{"version":3,"file":"flyer.js","sources":["../client/utils/polyfill.js","../client/flyer/projection.js","../client/lib/reading.js","../client/lib/Audio.js","../node_modules/carbide/key-error.js","../node_modules/carbide/struct.js","../client/flyer/state.js","../client/config.js","../client/flyer.js","../client/router.js","../client/flyer/view/presenter.js","../client/lib/device.js","../client/flyer/view/display.js","../client/utils/fn.js","../client/flyer/view.js","../client/flyer/uplink.js","../client/flyer.boot.js"],"sourcesContent":["if (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(target) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object');\n      }\n\n      var to = Object(target);\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i];\n        if (nextSource === undefined || nextSource === null) {\n          continue;\n        }\n        nextSource = Object(nextSource);\n\n        var keysArray = Object.keys(nextSource);\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n      return to;\n    }\n  });\n}\n","/* jshint esnext: true */\n\nfunction readingsDuration(readings){\n  if (!readings[0]) { return 0; }\n\n  var t0 = readings[0].timestamp;\n  var t1 = readings[readings.length - 1].timestamp;\n\n  return (t1 - t0) / 1000;\n}\n\nfunction altitudeForFreefallDuration(durationInSeconds){\n  /*\n    Altitude Calculation\n\n    Makes an assumption that magnitude is 10 (stationery) at\n    the top of the throw and bottom of the throw starts when magnitude\n    starts increasing again indicating deceleration. Our flight data\n    is trimmed before it arrives here so that it only contains freefall\n    information.\n\n    As we have two peaks and one trough, the freefall data is the mid point\n    (as in level of 10) of peak 1 & bottom of trough 1.\n\n    Vertical drop formula:\n      height = gravity 9.8m/s * time^2 / 2\n  */\n\n  return 9.8 * Math.pow(durationInSeconds, 2) / 2;\n}\n\nfunction round(number){\n  return parseFloat(number.toFixed(2));\n}\n\nfunction maxFlightDuration(flights) {\n  var flightDurations = flights.map(readingsDuration);\n  return Math.max.apply(null, flightDurations);\n}\n\nfunction maxAltitude(flights) {\n  var flightDurations = flights.map(readingsDuration);\n  var max = Math.max.apply(null, [0].concat(flightDurations));\n  return round(altitudeForFreefallDuration(max));\n}\n\nfunction Projection(rawState){\n  Object.defineProperty(this, \"maxFlightTime\", {\n    get: function(){\n      return maxFlightDuration(rawState.flightHistory.concat(rawState.currentFlight));\n    }\n  });\n\n  Object.defineProperty(this, \"lastFlightTime\", {\n    get: function(){\n      var lastFlight = rawState.flightHistory[rawState.flightHistory.length - 1];\n      return maxFlightDuration([lastFlight]);\n    }\n  });\n\n  Object.defineProperty(this, \"lastFlightTimestamp\", {\n    get: function(){\n      var lastFlight = rawState.flightHistory[rawState.flightHistory.length - 1];\n      return lastFlight[lastFlight.length-1].timestamp;\n    }\n  });\n\n  Object.defineProperty(this, \"flightCount\", {\n    get: function(){\n      return rawState.flightHistory.length;\n    }\n  });\n\n  Object.defineProperty(this, \"maxAltitude\", {\n    get: function(){\n      return maxAltitude(rawState.flightHistory.concat(rawState.currentFlight));\n    }\n  });\n\n  Object.defineProperty(this, \"lastAltitude\", {\n    get: function(){\n      var lastFlight = rawState.flightHistory[rawState.flightHistory.length - 1];\n      return maxAltitude([lastFlight]);\n    }\n  });\n\n  Object.defineProperty(this, \"latestReading\", {\n    get: function(){\n      return rawState.latestReading;\n    }\n  });\n\n  Object.defineProperty(this, \"hasThrow\", {\n    get: function(){\n      return this.maxAltitude !== 0;\n    }\n  });\n\n  Object.defineProperty(this, \"hasOneThrow\", {\n    get: function(){\n      return this.hasThrow && (rawState.flightHistory.length === 1);\n    }\n  });\n\n  Object.defineProperty(this, \"uplinkStatus\", {\n    get: function(){\n      return rawState.uplinkStatus;\n    }\n  });\n  Object.defineProperty(this, \"channelName\", {\n    get: function(){\n      return rawState.uplinkDetails.channelName;\n    }\n  });\n  Object.defineProperty(this, \"alert\", {\n    get: function(){\n      return rawState.alert;\n    }\n  });\n}\n\nexport function project(app){\n  return new Projection(app);\n}\nexport default project;\n","/* jshint esnext: true */\n\nfunction isRational() {\n  for (var i = 0; i < arguments.length; i++) {\n    var val = arguments[i];\n    if (typeof val !== \"number\"){\n      return false;\n    }\n    if (!isFinite(val)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw){\n  if ( !(this instanceof Reading) ) { return new Reading(raw); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = raw.timestamp;\n\n  if (!isRational(this.x, this.y, this.z, this.timestamp)) {\n    throw new TypeError(\"Reading should have numerical values for x, y, z & timestamp\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n\nReading.prototype.asJson = function() {\n  return {\n    timestamp: this.timestamp,\n    magnitude: this.magnitude\n  }\n};\n","export default function Audio() {\n  if ( !(this instanceof Audio) ) { return new Audio(); }\n\n  ion.sound({\n    sounds: [{ name: \"pop_cork\" }],\n    volume: 1,\n    path: \"/images/audio/\",\n    preload: true\n  });\n\n  this.playDropSound = function() {\n    ion.sound.play(\"pop_cork\");\n  }\n}\n","/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","import Struct from \"../../node_modules/carbide/struct\";\n\nvar FLYER_STATE_DEFAULTS = {\n  uplinkStatus: \"CONNECTING\",\n  uplinkDetails: {},\n  latestReading: null, // DEBT best place a null object here\n  currentFlight: [],\n  flightHistory: [],\n  alert: \"\"\n};\n\n// DEBT not quite sure why this can't just be named state;\nexport default function FlyerState(raw){\n  if ( !(this instanceof FlyerState) ) { return new FlyerState(raw); }\n\n  // DEBT with return statement is not an instance of FlyerState.\n  // without return statement does not work at all.\n  return Struct.call(this, FLYER_STATE_DEFAULTS, raw);\n}\n\nFlyerState.prototype = Object.create(Struct.prototype);\nFlyerState.prototype.constructor = FlyerState;\n","export var Config = {\n  readingPublishLimit: 200, // ms\n  flightPublishLimit: 1000, // ms\n  trackingGraphTimePeriod: 8000, // ms - time to keep points in visible graph\n  gravityMagnitudeConstant: 10, // default gravity magnitude value from accelerometer\n  broadcastNewChannelName: 'broadcast:channel', /* replicated in app.rb */\n  debug: false /* Will output debugging info and send detailed flight metrics when true */\n};\n","/* jshint esnext: true */\n\nimport Projection from \"./flyer/projection\";\nimport Reading from \"./lib/reading\";\nimport Audio from \"./lib/Audio\";\nimport FlyerState from './flyer/state'\nimport { Config } from './config'\n\nvar Thresholds = {\n  peak: 18,\n  trough: 4,\n  stagnantMovementTime: 1000,\n  stagnantMovementAmount: 7, /* expect at least this much movement in magnitude over stagnantMovementTime */\n  flightPause: 2000, /* period we stop detecting throws after a throw has been made */\n  peakTroughMinTime: 400, /* Min time we expect from the throw peak to the drop trough to consider this a valid throw */\n  crossZeroPointBuffer: 40, /* Ignore some noise when falling / climbing for a few milliseconds that could cause it jump above & below zero point briefly */\n  minFlightTime: 150 /* min flight time to be a viable throw */\n}\n\nvar lastDebugArgs;\n\nfunction debug() {\n  if (Config.debug) {\n    var argsString = Array.prototype.join.call(arguments, \",\");\n    if (lastDebugArgs === argsString) {\n      return;\n    }\n    lastDebugArgs = argsString;\n\n    console.debug.apply(console, arguments);\n  }\n}\n\n/* Class that wraps a reading but has logic\n   that allows it to be queried with a nice DSL */\n\nfunction PeakOrTrough(reading) {\n  this.historicalReadings = [];\n  this.updateReading(reading);\n}\n\nPeakOrTrough.prototype.exceedThreshold = function() {\n  return (this.magnitude < Thresholds.trough) ||\n    (this.magnitude > Thresholds.peak);\n};\n\nPeakOrTrough.prototype.isPeak = function() {\n  return this.magnitude > 10;\n}\n\nPeakOrTrough.prototype.type = function() {\n  return this.isPeak() ? 'peak' : 'trough';\n}\n\n/* If we sample the last X seconds of the readings,\n   we expect to see reasonable movement in magnitude in one direction\n   else it's probably no longer in flight */\nPeakOrTrough.prototype.isStagnant = function() {\n  if (this.timestampEnd - this.timestampStart < Thresholds.stagnantMovementTime) {\n    /* This peak or trough cannot be stagnant unless some time has passed first */\n    return false;\n  }\n\n  var magnitudes = this.historicalReadings.filter(function(reading) {\n    reading.timestamp >= Date.now() - Thresholds.stagnantMovementTime;\n  }).map(function(reading) {\n    return reading.magnitude;\n  });\n\n  if (magnitudes.length === 0) {\n    return true;\n  }\n\n  var max = Math.max.apply(null, magnitudes),\n      min = Math.min.apply(null, magnitudes);\n\n  debug(\"isStagnant:\", Math.abs(max - min) < Thresholds.stagnantMovementAmount, min, max);\n\n  return Math.abs(max - min) < Thresholds.stagnantMovementAmount;\n}\n\n/* A trough of 3 is less than a trough  of 2\n   and a peak of 19 is less than a peak of 22 */\nPeakOrTrough.prototype.isLessThan = function(newPeakOrTrough) {\n  if (this.magnitude < 10) {\n    return newPeakOrTrough.magnitude < this.magnitude;\n  } else {\n    return newPeakOrTrough.magnitude > this.magnitude;\n  }\n};\n\nPeakOrTrough.prototype.updateReading = function(reading) {\n  this.reading = reading;\n  this.magnitude = reading.magnitude;\n  if (!this.timestampStart) { this.timestampStart = reading.timestamp; }\n  this.timestampEnd = reading.timestamp;\n  this.historicalReadings.push(reading);\n};\n\n/* If this peak or trough has crossed the zero point (technically 10)\n   i.e. it is now going in the opposite direction */\nPeakOrTrough.prototype.crossedZeroPoint = function() {\n  this.crossedZeroPointTimestamp = Date.now();\n};\n\nPeakOrTrough.prototype.hasRecentlyCossedZeroPoint = function() {\n  return this.crossedZeroPointTimestamp && (this.crossedZeroPointTimestamp < Date.now() - Thresholds.crossZeroPointBuffer);\n};\n\nPeakOrTrough.prototype.asJson = function() {\n  return {\n    magnitude: this.magnitude,\n    readings: this.historicalReadings.map(function(reading) { return [reading.timestamp, reading.magnitude]; }),\n    timestampStart: this.timestampStart,\n    timestampEnd: this.timestampEnd\n  };\n};\n\n/* Detect spins and show a warning to the user that spinning whilst lobbing is disallowed\n   as it adversely effects the readings */\nfunction SpinDetector() {\n  this.READINGS_FREQUENCY = 25; /* max readings stored per ms */\n  this.READINGS_MAX_AGE = 2000; /* truncate if older than this in ms */\n  this.RECENT_SPIN_CALLBACK_RATE = 500; /* don't trigger recently spun checks more than X milliseconds */\n  this.ROTATIONS_ALLOWED_PER_SECOND = 0.75; /* full rotations allowed per second */\n  this.MAX_READING_JUMP = 150; /* prevent readings such as 0 to 359 being seen as a rotation of 359 forwards instead of 1 degree back */\n\n  this.readings = []\n  this.readingsQueued = false;\n}\n\n/* private */\nSpinDetector.prototype._pushReading = function(orientation) {\n  this.readings.push({\n    time: new Date().getTime(),\n    alpha: orientation.alpha,\n    beta: orientation.beta,\n    gamma: orientation.gamma\n  });\n}\n\nSpinDetector.prototype._truncateReadings = function(truncateAll) {\n  var now = new Date().getTime();\n\n  if (truncateAll) {\n    this.readings = [];\n    return;\n  }\n\n  while (this.readings.length && (this.readings[0].time < (now - this.READINGS_MAX_AGE))) {\n    this.readings.shift();\n  }\n}\n\nSpinDetector.prototype.addReading = function(orientation) {\n  var that = this;\n\n  if (this.readingsQueued) {\n    this.nextReading = orientation;\n  } else {\n    this._pushReading(orientation);\n    this.readingsQueued = true;\n\n    setTimeout(function() {\n      if (this.nextReading) {\n        this._pushReading(orientation);\n        this.nextReading = null;\n      }\n      that.readingsQueued = false;\n    }, this.READINGS_FREQUENCY);\n\n    this._truncateReadings();\n  }\n}\n\nSpinDetector.prototype.recentlySpun = function(callback) {\n  var readings = this.readings,\n      now = new Date().getTime(),\n      rotationsAllowedPerSecond = this.ROTATIONS_ALLOWED_PER_SECOND,\n      that = this;\n\n  if (this.lastSpunCheck && (this.lastSpunCheck > new Date().getTime() - this.RECENT_SPIN_CALLBACK_RATE)) {\n    return;\n  }\n  this.lastSpunCheck = now;\n\n  this._truncateReadings();\n\n  'alpha beta gamma'.split(' ').forEach(function(axes) {\n    var posChange = [], posLastVal = null,\n        negChange = [], negLastVal = null,\n        spinTotal,\n        reading, readingIndex,\n        MAX_READING_JUMP = that.MAX_READING_JUMP;\n\n\n    for (readingIndex = 0; readingIndex < readings.length; readingIndex++) {\n      var reading = readings[readingIndex],\n          absReading = Math.abs(reading[axes]) % 360;\n\n      if ((posLastVal === null) || (negLastVal === null)) {\n        posLastVal = absReading;\n        negLastVal = absReading;\n      } else {\n        /* Truncate movement readings from before threshold */\n        [posChange, negChange].forEach(function(changeHistory) {\n          while (changeHistory.length && (changeHistory[0].time < now - (1000 / rotationsAllowedPerSecond))) {\n            changeHistory.shift();\n          }\n        });\n\n        /* track positive movement on the axis */\n        if ((absReading > posLastVal) && (absReading < posLastVal + MAX_READING_JUMP)) {\n          posChange.push(absReading - posLastVal);\n          posLastVal = absReading;\n        } else if ( (posLastVal > (360-MAX_READING_JUMP/2)) && (absReading < (MAX_READING_JUMP/2)) ) { /* wrapped past 360 such as 340 -> 20 */\n          posChange.push(360-posLastVal + absReading);\n          posLastVal = absReading;\n        }\n        spinTotal = posChange.reduce(function(a,b) { return a+b; }, 0);\n        if (spinTotal >= 180) {\n          debug(\"Pos spin\", axes, spinTotal, readings);\n        }\n        if (spinTotal >= 360) {\n          debug(\"SpinDetector.recentlySpun: detected positive spin on axes \" + axes + \": \" + spinTotal);\n          that._truncateReadings(true);\n          callback();\n          return;\n        }\n\n        /* track negative movement on the axis represented as a positive value */\n        if ((absReading < negLastVal) && (absReading > negLastVal - MAX_READING_JUMP)) {\n          negChange.push(negLastVal - absReading);\n          negLastVal = absReading;\n        } else if ( (negLastVal < (MAX_READING_JUMP/2)) && (absReading > (360-MAX_READING_JUMP/2)) ) { /* wrapped past 360 such as 20 -> 340 */\n          negChange.push(negLastVal + 360-absReading);\n          negLastVal = absReading;\n        }\n        spinTotal = negChange.reduce(function(a,b) { return a+b; }, 0);\n        if (spinTotal >= 180) {\n          debug(\"Neg spin\", axes, spinTotal, readings);\n        }\n        if (spinTotal >= 360) {\n          debug(\"SpinDetector.recentlySpun: detected negative spin on axes \" + axes + \": \" + spinTotal);\n          that._truncateReadings(true);\n          callback();\n          return;\n        }\n      }\n    }\n  });\n}\n\nexport default function Flyer(state) {\n  if ( !(this instanceof Flyer) ) { return new Flyer(state); }\n\n  var flyer = this;\n  var audio = new Audio();\n  var peakOrTroughHistory = [];\n  var currentFlightReadings = [];\n  var lastThrowCompleted;\n  var spinDetector = new SpinDetector();\n  var spinAlertInterval;\n\n  state = FlyerState(state || {});\n  flyer.state = state;\n\n  flyer.uplinkAvailable = function(channelName) {\n    if (flyer.state.uplinkStatus === 'INCOMPATIBLE') { return; }\n\n    flyer.state = flyer.state.merge({\n      \"uplinkStatus\": \"TRANSMITTING\",\n      \"uplinkDetails\": channelName\n    });\n    flyer.logger.info(\"Uplink available, transmission commencing\", channelName);\n    showcase(flyer.state);\n  };\n\n  flyer.uplinkFailed = function(err) {\n    if (flyer.state.uplinkStatus === 'INCOMPATIBLE') { return; }\n\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"FAILED\");\n    showcase(flyer.state);\n    flyer.logger.error(\"Uplink failed\", err);\n  };\n\n  flyer.uplinkDisconnected = function() {\n    if (flyer.state.uplinkStatus === 'INCOMPATIBLE') { return; }\n\n    flyer.state = flyer.state.set(\"uplinkStatus\", \"DISCONNECTED\");\n    showcase(flyer.state);\n    flyer.logger.warn(\"Uplink disconnected, will attempt reconnect\");\n  };\n\n  flyer.newReading = function(raw) {\n    var reading = Reading({\n      x: raw.dm.gx, /* raw.dm is devicemotion */\n      y: raw.dm.gy,\n      z: raw.dm.gz,\n      timestamp: Date.now()\n    });\n\n    var orientation = raw.do;\n    orientation.orientation = window.orientation;\n\n    transmitReadingAndOrientation(reading, orientation);\n    spinDetector.addReading(orientation);\n\n    spinDetector.recentlySpun(function() {\n      if (spinAlertInterval) { clearInterval(spinAlertInterval); }\n      console.warn(\"Stop spinning that phone, you're gonna break it\");\n      $('.spin-warning').show();\n      spinAlertInterval = setTimeout(function() {\n        $('.spin-warning').hide();\n      }, 6000);\n    });\n\n    this.trackThrows(reading, function(currentFlight, peakOrTroughHistory) {\n      var state = flyer.state.set(\"latestReading\", reading);\n      var flightHistory = state.flightHistory;\n\n      flightHistory.push(currentFlight);\n      flyer.state = state.set({\n        \"currentFlight\": currentFlight,\n        \"flightHistory\": flightHistory\n      });\n\n      showcase(flyer.state);\n\n      audio.playDropSound();\n      transmitFlightData(flyer.state, currentFlight, peakOrTroughHistory);\n    });\n  };\n\n  /****\n\n    Calls the callback with an Array of readings when\n    a throw is detected\n\n    A throw is typically a curve in the form\n        ---      ---\n    ----/   \\    /   \\-----\n            \\__/\n\n    What we need to identify is two large peaks with an\n    opposing peak/trough to work out how long the throw was\n\n    Assumption is that throw is end of the first up curve i.e. it's stopped accelerating upwards,\n    until the bottom of the following down curve when it starts decellerating.\n\n  ****/\n  flyer.trackThrows = function(reading, callback) {\n    var currentPeakOrTrough = new PeakOrTrough(reading);\n    var lastPeakOrTrough = peakOrTroughHistory[peakOrTroughHistory.length - 1];\n    var freefallData;\n\n    /* Prevent detection sometimes on bounce / catch */\n    if (lastThrowCompleted && (lastThrowCompleted > Date.now() - Thresholds.flightPause)) {\n      debug('Ignoring throw data due to previous throw', lastThrowCompleted);\n      return;\n    }\n\n    /* Start recording peaks or troughs, update the extremes of the peaks or\n       troughs, and when peak switches to trough or vice versa, add a new\n       recorded peak or trough in history */\n    if (currentPeakOrTrough.exceedThreshold()) {\n      if (!lastPeakOrTrough) {\n        /* We only start recording from a peak, never from a trough */\n        if (currentPeakOrTrough.isPeak()) {\n          debug('Detected first peak', reading.asJson());\n          peakOrTroughHistory.push(currentPeakOrTrough);\n        } else {\n          debug('Trough so ignoring data', reading.asJson());\n        }\n      } else {\n        if (currentPeakOrTrough.isPeak() === lastPeakOrTrough.isPeak()) {\n          if (lastPeakOrTrough.isLessThan(currentPeakOrTrough)) {\n            debug('In play ' + currentPeakOrTrough.type() + ' is greater than old peak', reading.asJson());\n            lastPeakOrTrough.updateReading(reading);\n          }\n        } else {\n          peakOrTroughHistory.push(currentPeakOrTrough);\n          debug('New ' + currentPeakOrTrough.type() + ' detected. Now', peakOrTroughHistory.length, 'peaks or troughs.', reading.asJson());\n          while (peakOrTroughHistory.length > 3) {\n            debug('Truncating first peak and trough as new peaks and troughs detected');\n            dropFirstPeakAndTrough();\n          }\n        }\n      }\n    } else {\n      if (lastPeakOrTrough) {\n        /* Current movement is up or down from last peak or trough i.e. crossed the 10 position */\n        if (currentPeakOrTrough.isPeak() !== lastPeakOrTrough.isPeak()) {\n          /* Record that the last peak has now crossed the zero point */\n          lastPeakOrTrough.crossedZeroPoint();\n        } else {\n          /* The current position is of the same type as the previous peak/trough yet it has crozzed the zero point\n             and has now come back without crossing a threshold. This is just noise or someone waving it up and down */\n          if (lastPeakOrTrough.hasRecentlyCossedZeroPoint()) {\n            debug('Last peak or trough has recently crossed zero point and has come back the other way now. Discarding everything', currentPeakOrTrough, lastPeakOrTrough, peakOrTroughHistory);\n            /* This is not a valid throw, clear all history */\n            peakOrTroughHistory = [];\n            currentFlightReadings = [];\n            return;\n          }\n        }\n      }\n\n      /* We are no longer exceeding a peak or trough\n         and we have satisfied the requirements of three peaks */\n      if (peakOrTroughHistory.length === 3) {\n        debug('Total 3 peaks or troughs detected and now in middle ground.', reading.asJson());\n\n        var peakToTroughDuration = peakOrTroughHistory[2].timestampEnd - peakOrTroughHistory[0].timestampStart;\n        if (peakToTroughDuration < Thresholds.peakTroughMinTime) {\n          debug('Peak to peak duration too low so skipping that peak & trough', peakToTroughDuration, peakOrTroughHistory);\n          /*\n            The peak and trough are too close togeher, person is probably just waving phone up and down.\n            Lets keep this current peak and drop previous peak & trough\n          */\n          dropFirstPeakAndTrough();\n        } else {\n          lastThrowCompleted = Date.now();\n\n          /* Only keep the flight data for the freefall, see Projection\n             for a better explanation of why we only use freefall data */\n          freefallData = filterFreefallData(currentFlightReadings);\n          debug(\"Free fall data\", freefallData);\n\n          var flightTime = freefallData[freefallData.length - 1].timestamp - freefallData[0].timestamp;\n          if (flightTime < Thresholds.minFlightTime) {\n            debug(\"Flight too short\", flightTime, \"discarding\");\n          } else {\n            callback(freefallData, peakOrTroughHistory);\n          }\n\n          peakOrTroughHistory = [];\n          currentFlightReadings = [];\n          return;\n        }\n      }\n    }\n\n    if (lastPeakOrTrough) {\n      if (lastPeakOrTrough.isStagnant()) {\n        debug('Last peak or trough stagnant. Discarding everything', lastPeakOrTrough, peakOrTroughHistory);\n        /* This is not a valid throw, clear all history */\n        peakOrTroughHistory = [];\n        currentFlightReadings = [];\n      } else {\n        currentFlightReadings.push(reading);\n      }\n    }\n  }\n\n  flyer.accelerometerNotSupported = function() {\n    flyer.state = flyer.state.merge({\n      \"alert\": \"Accelerometer not found for this device. Please try again on a different mobile\",\n      \"uplinkStatus\": \"INCOMPATIBLE\"\n    });\n    showcase(flyer.state);\n  }\n\n  function dropFirstPeakAndTrough() {\n    peakOrTroughHistory.splice(0,2);\n    currentFlightReadings = currentFlightReadings.filter(function(reading) {\n      return reading.timestamp >= peakOrTroughHistory[0].timestamp;\n    });\n  }\n\n  function filterFreefallData(flightData) {\n    var freefallData = [],\n        reading,\n        lowestMagnitude,\n        inFreefall;\n\n    /* First get all data that is below stationery i.e. in freefall\n       but only keep the points that are increasingly lower in magnitude.\n       See Projection for more details on assumptions */\n    for (var i = 0; i < flightData.length; i++) {\n      reading = flightData[i];\n      if (reading.magnitude >= 10) { continue; }\n\n      if (!lowestMagnitude || (reading.magnitude < lowestMagnitude)) {\n        lowestMagnitude = reading.magnitude;\n        freefallData.push(reading);\n      }\n\n      if (lowestMagnitude < Thresholds.trough) {\n        inFreefall = true;\n      } else if (inFreefall && (reading.magnitude > Thresholds.trough)) {\n        /* This throw is over */\n        return freefallData;\n      }\n    }\n\n    return freefallData;\n  }\n\n  function transmitReadingAndOrientation(reading, orientation) {\n    if (flyer.state.uplinkStatus === \"TRANSMITTING\") {\n      flyer.uplink.transmitReadingAndOrientation(reading, orientation);\n    }\n  }\n\n  function transmitFlightData(state, flightData, peakOrTroughHistory) {\n    if (flyer.state.uplinkStatus === \"TRANSMITTING\") {\n      var projection = Projection(state);\n      var data = {\n        timestamp: projection.lastFlightTimestamp,\n        flightTime: projection.lastFlightTime,\n        altitude: projection.lastAltitude,\n        flightSerialThisSession: projection.flightCount,\n        peakInfo: peakOrTroughHistory.map(function(peak) { return peak.asJson(); })\n      };\n      flyer.uplink.transmitFlightData(data);\n    }\n  }\n\n  function showcase(state){\n    flyer.view.render(Projection(state));\n  }\n\n  // DEBT should be set separatly for Testing\n  flyer.clock = window.Date;\n}\nFlyer.State = FlyerState;\n","/* jshint esnext: true */\n\n// Router makes use of current location\n// Router should always return some value of state it does not have the knowledge to regard it as invalid\n// Router is currently untested\n// Router does not follow modifications to the application location.\n// Router is generic for tracker and flyer at the moment\n// location is a size cause and might make sense to be lazily applied\nexport default function Router(location) {\n  if ( !(this instanceof Router) ) { return new Router(location); }\n  var router = this;\n  router.location = location;\n\n  function getState(){\n    return {\n      channelName: $(\"head\").data('channel-name')\n    };\n  }\n\n  Object.defineProperty(router, 'state', {\n    get: getState\n  });\n}\n","/* jshint esnext: true */\n\nexport function format(i){\n  var fixed = i.toFixed(2);\n  var signed = i < 0 ? fixed : \"+\" + fixed;\n  var short = \"+00.00\".length - signed.length;\n  var padded = (short == 1) ? signed.replace(/[\\+\\-]/, function(sign){ return sign + \"0\"; }) : signed;\n  return padded;\n}\n\nfunction Presenter(projection){\n\n  Object.defineProperty(this, \"maxFlightTime\", {\n    get: function(){\n      return projection.maxFlightTime + \"s\";\n    }\n  });\n\n  Object.defineProperty(this, \"rawMaxFlightTime\", {\n    get: function(){\n      return projection.maxFlightTime;\n    }\n  });\n\n  Object.defineProperty(this, \"lastFlightTime\", {\n    get: function(){\n      return projection.lastFlightTime + \"s\";\n    }\n  });\n\n  Object.defineProperty(this, \"maxAltitude\", {\n    get: function(){\n      return projection.maxAltitude + \"m\";\n    }\n  });\n\n  Object.defineProperty(this, \"rawMaxAltitude\", {\n    get: function(){\n      return projection.maxAltitude;\n    }\n  });\n\n  Object.defineProperty(this, \"lastAltitude\", {\n    get: function(){\n      return projection.lastAltitude + \"m\";\n    }\n  });\n\n  Object.defineProperty(this, \"hasThrow\", {\n    get: function(){\n      return projection.hasThrow;\n    }\n  });\n\n  Object.defineProperty(this, \"hasOneThrow\", {\n    get: function(){\n      return projection.hasOneThrow;\n    }\n  });\n\n  Object.defineProperty(this, \"lastHigherThanBefore\", {\n    get: function(){\n      return projection.lastAltitude == projection.maxAltitude;\n    }\n  });\n\n  Object.defineProperty(this, \"uplinkStatus\", {\n    get: function(){\n      return projection.uplinkStatus.toLowerCase();\n    }\n  });\n\n  Object.defineProperty(this, \"channelName\", {\n    get: function(){\n      return projection.channelName;\n    }\n  });\n}\n\nexport function present(app){\n  return new Presenter(app);\n}\nexport default present;\n","export default function Device() {\n  if ( !(this instanceof Device) ) { return new Device(); }\n\n  var mobileDetect = new MobileDetect(window.navigator.userAgent);\n  var browser = platform;\n\n  function mobileDescription() {\n    if (mobileDetect.phone() && (mobileDetect.phone() !== 'UnknownPhone')) {\n      return mobileDetect.phone()\n    } else if (mobileDetect.tablet() && (mobileDetect.tablet() !== 'UnknownTablet')) {\n      return mobileDetect.tablet();\n    } else {\n      return platform.os.family;\n    }\n  }\n\n  function desktopDescription() {\n    return browser.os.family.replace(/Windows.*/,\"Windows\") + \" desktop\";\n  }\n\n  this.deviceDescription = function() {\n    if (mobileDetect.mobile()) {\n      return mobileDescription();\n    } else {\n      return desktopDescription();\n    }\n  }\n}\n","/* jshint esnext: true */\n\nimport Device from \"../../lib/device\";\n\n/* This function class contains the logic for the presentation\n   messaging in the view based on the state, but is weirdly not a\n   view itself as their is a view, a projection, and a presenter? */\n\nfunction Display($root){\n  var $leaderboardPanel = $root.find(\".submit-to-leaderboard\"),\n      $leaderboardSubmitPanel = $leaderboardPanel.find(\".submit-panel\"),\n      $leaderboardSubmittedPanel = $leaderboardPanel.find(\".submitted-panel\"),\n      $leaderboardForm = $leaderboardPanel.find(\"form\"),\n      $leaderBoardFormNickname = $leaderboardPanel.find(\"form input[name=nickname]\"),\n      $leaderBoardFormAltitude = $leaderboardPanel.find(\"form input[name=max-altitude]\"),\n      $leaderBoardFormFlightTime = $leaderboardPanel.find(\"form input[name=max-flight-time]\"),\n      $leaderBoardAltitudeMessage = $leaderboardPanel.find(\".max-altitude-message\"),\n      $leaderBoardSubmittedAltitude = $leaderboardPanel.find(\".max-altitude-message-submitted\");\n\n  var $message = $root.find(\".message\"),\n      $uplinkStatus = $root.find(\".uplink-status\"),\n      $lobCode = $root.find(\".lob-code\"),\n      $loader = $root.find(\".connecting-loader\"),\n      $connectionActive = $root.find(\".connection-active\"),\n      $lobHeight = $root.find(\".last-reading .height\"),\n      $lobAirtime = $root.find(\".last-reading .airtime\");\n\n  var deviceType = new Device().deviceDescription();\n\n  function init() {\n    $leaderboardForm.on('submit', function(event) {\n      event.preventDefault();\n\n      var altitude = $leaderBoardFormAltitude.val(),\n          flightTime = $leaderBoardFormFlightTime.val(),\n          nickname = $leaderBoardFormNickname.val().replace(/^\\s+|\\s+$/g,\"\"),\n          data = {\n            \"max-altitude\": altitude,\n            \"max-flight-time\": flightTime,\n            \"nickname\": nickname,\n            \"device\": deviceType\n          };\n\n      if (nickname.length === 0) {\n        alert(\"Sorry, you need to have a nickname to enter the leaderboard\");\n        $leaderBoardFormNickname.focus();\n        return;\n      }\n\n      if (window.localStorage) {\n        localStorage.setItem('nickname', nickname);\n      }\n\n      $leaderboardForm.find('submit').attr('disabled', 'disabled');\n\n      $.post('/submit-flight', data).done(function() {\n          $leaderBoardSubmittedAltitude.text(altitude + \"m\");\n          $leaderboardSubmitPanel.hide();\n          $leaderboardSubmittedPanel.show();\n        }).fail(function() {\n          alert(\"Oops, something went wrong submitting your lob to the leaderboard. Please try again\");\n        }).always(function() {\n          $leaderboardForm.find('submit').removeAttr('disabled');\n        })\n    });\n  }\n\n  function setLoading(isLoading) {\n    if (isLoading) {\n      $loader.show();\n      $connectionActive.hide();\n    } else {\n      $loader.hide();\n      $connectionActive.show();\n    }\n  }\n\n  function showLeaderboard(altitude, flightTime) {\n    $leaderboardPanel.show();\n    $leaderboardSubmitPanel.show();\n    $leaderboardSubmittedPanel.hide();\n    $leaderBoardFormAltitude.val(altitude);\n    $leaderBoardFormFlightTime.val(flightTime);\n    $leaderBoardAltitudeMessage.text(Math.round(altitude * 100)/100 + \"m\");\n\n    if (window.localStorage && window.localStorage.getItem('nickname')) {\n      $leaderBoardFormNickname.val(window.localStorage.getItem('nickname'));\n    }\n  }\n\n  function updateUplinkStatus(presentation) {\n    switch(presentation.uplinkStatus.toLowerCase()) {\n      case \"connecting\":\n        $uplinkStatus.show().html(\"Hold on, we're now establishing a connection to stream your lob live.\");\n        setLoading(true);\n        break;\n      case \"disconnected\":\n        $uplinkStatus.show().html(\"Oops, we seem to have been disconnected. Trying to reconnect now.\");\n        setLoading(true);\n        break;\n      case \"failed\":\n        $uplinkStatus.show().html(\"Oops, it looks like we cannot connect to the phone. Are you sure you have an Internet connection available?\");\n        setLoading(true);\n        break;\n      case \"incompatible\":\n        $uplinkStatus.show().html(\"Unfortunately an accelerometer was not found on this device. Please try with a more modern mobile phone.\");\n        setLoading(true);\n        break;\n      case \"transmitting\":\n        $uplinkStatus.hide();\n        setLoading(false);\n        break;\n      default:\n        console.error('Unknown status', status);\n    }\n  }\n\n  function renderNoThrows(presentation) {\n    $message.html('<p class=\"prompt\">Ready?</b></p><p>Lob your phone in the air and don\\'t forget to catch it!</p>');\n    updateUplinkStatus(presentation);\n  }\n\n  function renderFirstThrow(presentation) {\n    $message.html('<p class=\"prompt\">Great throw!</p>' +\n      \"<p>Go on, try again!</p>\");\n    $lobHeight.text(presentation.lastAltitude);\n    $lobAirtime.text(presentation.lastFlightTime + ' Airtime');\n    updateUplinkStatus(presentation);\n  }\n\n  function renderMultipleThrows(presentation) {\n    if (presentation.lastHigherThanBefore) {\n      $message.html('<p class=\"prompt\">Superb, that\\'s your new record!</p>' +\n        \"<p>Go for glory, see if you can go higher!</p>\");\n      $lobHeight.text(presentation.lastAltitude);\n      $lobAirtime.text(presentation.lastFlightTime + ' Airtime');\n      showLeaderboard(presentation.rawMaxAltitude, presentation.rawMaxFlightTime);\n    } else {\n      $message.html('<p class=\"prompt\">Not bad, but not your best so far.</p>' +\n        \"<p>Give it another go!</p>\");\n      $lobHeight.text(presentation.lastAltitude);\n      $lobAirtime.text(presentation.lastFlightTime + ' Airtime');\n    }\n    updateUplinkStatus(presentation);\n  }\n\n  this.render = function(presentation) {\n    $lobCode.text(presentation.channelName);\n\n    if (!presentation.hasThrow) {\n      renderNoThrows(presentation);\n    } else if (presentation.hasOneThrow) {\n      renderFirstThrow(presentation);\n      showLeaderboard(presentation.rawMaxAltitude, presentation.rawMaxFlightTime);\n    } else {\n      renderMultipleThrows(presentation);\n    }\n  }\n\n  init();\n}\n\nexport function create($root){ Display($root); }\n\nexport default Display;\n","/* jshint esnext: true */\n\nexport function argsToArray(args){\n  return Array.prototype.slice.call(args);\n}\n\nexport function throttle(fn, threshhold, scope) {\n  threshhold = threshhold;\n  var last,\n  deferTimer;\n  return function () {\n    var context = scope || this;\n    var now = Date.now(), args = arguments;\n\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n","import Presenter from \"./view/presenter\";\nimport Display from \"./view/display\";\nimport Phone from \"../lib/phone\";\n\nimport { Config } from '../config';\nimport { throttle } from \"../utils/fn\";\n\nexport default function FlyerView() {\n  var memoized = {};\n\n  var getDisplay = function() {\n    if (!memoized.display) {\n      var $flyer = $('.flyer');\n      memoized.display = new Display($flyer);\n    }\n    return memoized.display;\n  }\n\n  this.render = function(projection) {\n    var presentation = Presenter(projection);\n    var display = getDisplay();\n\n    display.render(presentation);\n  }\n}\n","import { Config } from '../config';\nimport Device from \"../lib/device\";\n\nexport default function FlyerUplink(options, logger) {\n  if ( !(this instanceof FlyerUplink) ) { return new FlyerUplink(options, logger); }\n\n  logger.info('Starting uplink', options);\n\n  var uplink = this;\n  var channelName = options.channelName.toString();\n\n  // TODO: Remove clientId when https://github.com/ably/ably-js/issues/252 resolved\n  var client = new Ably.Realtime({ authUrl: '/lob/' + channelName + '/token', clientId: channelName.toString() });\n  var channel = client.channels.get(channelName);\n\n  /* Flights namespace is configured to persist messages */\n  var flightRecorderChannelName = \"flights:\" + options.channelName;\n  var flightRecorderChannel = client.channels.get(flightRecorderChannelName);\n\n  var broadcastChannelName = Config.broadcastNewChannelName;\n  var broadcastChannel = client.channels.get(broadcastChannelName);\n\n  /* Debug flight info channel when enabled in the publisher phone */\n  if (Config.debug) {\n    console.warn(\"Running in debug mode - detailed flight metrics being published\");\n    var debugChannel = client.channels.get(\"debug:\" + channelName);\n    var debugFlightMetrics = [];\n    debugChannel.attach();\n  }\n\n  var deviceType = new Device().deviceDescription();\n\n  var noop = function() {};\n\n  var intervalTransmissionSetup,\n      lastTransmissionTargetTimestamp,\n      lastReading,\n      lastOrientation;\n\n  function startTransmissionTimer() {\n    var timestamp = Date.now(),\n        nextFireDelay\n\n    if (lastTransmissionTargetTimestamp) {\n      lastReading.timestamp = lastTransmissionTargetTimestamp;\n      lastOrientation.timestamp = lastTransmissionTargetTimestamp;\n    }\n\n    if (lastTransmissionTargetTimestamp) {\n      /* Adjust next transmission based on the delay of this transmission */\n      nextFireDelay = lastTransmissionTargetTimestamp - timestamp + Config.readingPublishLimit;\n      lastTransmissionTargetTimestamp = timestamp + nextFireDelay;\n    } else {\n      /* Fire exatly on the interval intended i.e. 0.0, 0.2, 0.4 if 200ms intervals */\n      nextFireDelay = Config.readingPublishLimit - (timestamp % Config.readingPublishLimit);\n      lastTransmissionTargetTimestamp = timestamp + nextFireDelay;\n      setTimeout(startTransmissionTimer, nextFireDelay);\n      return;\n    }\n\n    channel.publish(\"reading\", { reading: lastReading, orientation: lastOrientation }, function(err) {\n      if (err) {\n        logger.warn(\"Unable to send new reading; err = \" + err.message);\n      }\n    });\n\n    if (Config.debug) {\n      if (debugFlightMetrics.length) {\n        debugChannel.publish(\"metrics\", debugFlightMetrics);\n        debugFlightMetrics = [];\n      }\n    }\n\n    setTimeout(startTransmissionTimer, nextFireDelay);\n  }\n\n  function transmitReadingAndOrientation(reading, orientation) {\n    lastReading = reading;\n    lastOrientation = orientation;\n\n    if (!intervalTransmissionSetup) {\n      startTransmissionTimer();\n      intervalTransmissionSetup = true;\n    }\n\n    if (Config.debug) {\n      debugFlightMetrics.push({\n        time: new Date().getTime(),\n        timeHuman: new Date().toString(),\n        reading: reading,\n        orientation: orientation\n      });\n    }\n  }\n\n  function transmitFlightData(flightData){\n    flightRecorderChannel.publish(\"flight\", flightData, function(err) {\n      if (err) {\n        logger.warn(\"Unable to send new fligth data; err = \" + err.message);\n      }\n    })\n  }\n\n  function broadcastNewChannel() {\n    broadcastChannel.publish(\"new\", { channel: channelName, device: deviceType });\n  }\n\n  client.connection.on(\"connected\", function(err) {\n    uplink.onconnected();\n  });\n\n  client.connection.on(\"disconnected\", function(err) {\n    logger.warn(\"Uplink is disconnected\", err);\n    uplink.onconnectionDisconnected(err);\n  });\n\n  client.connection.on(\"failed\", function(err) {\n    console.error(\"Connection failed\", err);\n    uplink.onconnectionFailed(err);\n  });\n\n  /* Be present on the channel so that subscribers know a publisher is here */\n  channel.presence.enter({ device: deviceType }, function(err) {\n    if (err) {\n      logger.error(\"Could not enter presence\", err);\n      uplink.onconnectionFailed(err);\n    } else {\n      logger.info(\"Present on channel\", channelName, \", device:\", deviceType);\n      broadcastNewChannel();\n    }\n  });\n\n  flightRecorderChannel.attach(function(err) {\n    if (err) {\n      logger.error(\"Could not attach to flight recorder channel\", flightRecorderChannelName);\n    } else {\n      logger.info(\"Attached to flight recorder channel\", flightRecorderChannelName);\n    }\n  });\n\n  /* Register leave events quickly so that Ably knows the client is gone intentionally\n     as opposed to disconnected abruptly */\n  window.onunload = window.onbeforeunload = function () {\n    client.connection.close();\n  };\n\n  this.channelName = channelName;\n\n  /* These callbacks events are specified by the creator of this object */\n  this.onconnected = noop;\n  this.onconnectionFailed = noop;\n  this.onconnectionDisconnected = noop;\n\n  this.transmitReadingAndOrientation = transmitReadingAndOrientation;\n  this.transmitFlightData = transmitFlightData;\n}\n","/* jshint esnext: true */\nimport \"./utils/polyfill\";\nimport Flyer from \"./flyer\";\nimport Router from \"./router\";\nimport FlyerView from \"./flyer/view\";\nimport FlyerUplink from './flyer/uplink';\n\nvar router = Router(window.location);\n\nvar uplink = FlyerUplink({\n  channelName: router.state.channelName\n}, window.console);\n\nvar flyer = Flyer();\n\nflyer.logger = window.console;\nflyer.view = new FlyerView\nflyer.uplink = uplink;\n\nfunction AccelerometerController(global, flyer){\n  var gn = new GyroNorm();\n  var logger = function(data) {\n    console.warn(\"Gyro log:\", data);\n  }\n  gn.init({ frequency: 10, decimalCounts: 3, logger: logger }).then(function() {\n    if (gn.isAvailable(GyroNorm.DEVICE_ORIENTATION) || gn.isAvailable(GyroNorm.ACCELERATION_INCLUDING_GRAVITY)) {\n      gn.start(function(data) {\n        flyer.newReading(data);\n      });\n    } else {\n      flyer.accelerometerNotSupported();\n    }\n  }).catch(function(e) {\n    /* DeviceOrientation or DeviceMotion is not supported by the browser or device */\n    flyer.accelerometerNotSupported();\n  });\n}\n\nvar accelerometerController = new AccelerometerController(window, flyer);\n\nfunction UplinkController(uplink, application){\n  uplink.onconnected = function(){\n    application.uplinkAvailable({ channelName: uplink.channelName });\n  }\n  uplink.onconnectionFailed = function(){\n    application.uplinkFailed();\n  }\n  uplink.onconnectionDisconnected = function(){\n    application.uplinkDisconnected({ channelName: uplink.channelName });\n  }\n}\nvar uplinkController = new UplinkController(uplink, flyer);\nexport default flyer;\n"],"names":["Projection","Presenter"],"mappings":"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"}
