{"version":3,"file":"tracker.js","sources":["../client/utils/polyfill.js","../client/config.js","../node_modules/carbide/key-error.js","../node_modules/carbide/struct.js","../client/tracker/state.js","../client/lib/Audio.js","../client/tracker/tracker.js","../client/router.js","../client/lib/reading.js","../client/tracker/uplink-controller.js","../client/tracker/console-view.js","../client/tracker/showcase.js","../client/lib/phone.js","../client/tracker/graph-display.js","../client/utils/dom.js","../client/tracker.js"],"sourcesContent":["if (!Object.assign) {\n  Object.defineProperty(Object, 'assign', {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function(target) {\n      'use strict';\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert first argument to object');\n      }\n\n      var to = Object(target);\n      for (var i = 1; i < arguments.length; i++) {\n        var nextSource = arguments[i];\n        if (nextSource === undefined || nextSource === null) {\n          continue;\n        }\n        nextSource = Object(nextSource);\n\n        var keysArray = Object.keys(nextSource);\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n          var nextKey = keysArray[nextIndex];\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n          if (desc !== undefined && desc.enumerable) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n      return to;\n    }\n  });\n}\n","export var Config = {\n  readingPublishLimit: 200, // ms\n  flightPublishLimit: 1000, // ms\n  trackingGraphTimePeriod: 8000, // ms - time to keep points in visible graph\n  gravityMagnitudeConstant: 10, // default gravity magnitude value from accelerometer\n  broadcastNewChannelName: 'broadcast:channel', /* replicated in app.rb */\n  debug: false /* Will output debugging info and send detailed flight metrics when true */\n};\n","/* jshint esnext: true */\n\nexport function KeyError(key) {\n  this.name = \"KeyError\";\n  this.message = \"key \\\"\" + key + \"\\\" not found\";\n  this.stack = (new Error()).stack;\n}\nKeyError.prototype = Object.create(Error.prototype);\nKeyError.prototype.constructor = KeyError;\n\nexport default KeyError;\n","/* jshint esnext: true */\n\nimport KeyError from \"./key-error\";\n\nexport function Struct(defaults, source){\n  \"use strict\";\n  if ( !(this instanceof Struct) ) { return new Struct(defaults, source); }\n\n  Object.assign(this, defaults);\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      if (!this.hasOwnProperty(key)) {\n        throw new KeyError(key);\n      }\n      this[key] = source[key];\n    }\n  }\n  Object.freeze(this);\n}\n\nStruct.prototype.hasKey = function (key) {\n  return Object.keys(this).indexOf(key) !== -1;\n};\n\nStruct.prototype.fetch = function (key) {\n  if (this.hasKey(key)) {\n    return this[key];\n  } else {\n    throw new KeyError(key);\n  }\n};\n\nStruct.prototype.set = function (key, value) {\n  if (this[key] === value) {\n    return this;\n  }\n  var tmp = {};\n  tmp[key] = value;\n  return this.merge(tmp);\n};\n\nStruct.prototype.update = function (key, operation) {\n  return this.set(key, operation(this[key]));\n};\n\nStruct.prototype.merge = function (other) {\n  return Struct(this, other);\n};\n\nexport default Struct;\n","/* jshint esnext: true */\n\nimport Struct from \"../../node_modules/carbide/struct\";\n\nvar STATE_DEFAULTS = {\n  uplinkStatus: \"UNKNOWN\",\n  uplinkChannelName: \"UNKNOWN\",\n  uplinkDevice: null,\n  flightSnapshot: null,\n  alert: \"\"\n};\n\nfunction State(raw){\n  if ( !(this instanceof State) ) { return new State(raw); }\n\n  return Struct.call(this, STATE_DEFAULTS, raw);\n}\n\nState.prototype = Object.create(Struct.prototype);\nState.prototype.constructor = State;\n\nexport default State;\n","export default function Audio() {\n  if ( !(this instanceof Audio) ) { return new Audio(); }\n\n  ion.sound({\n    sounds: [{ name: \"pop_cork\" }],\n    volume: 1,\n    path: \"/images/audio/\",\n    preload: true\n  });\n\n  this.playDropSound = function() {\n    ion.sound.play(\"pop_cork\");\n  }\n}\n","/* jshint esnext: true */\n\nimport { Config } from '../config';\n\nimport State from \"./state\";\nimport Audio from \"../lib/Audio\";\n\nfunction lastInArray(array){\n  return array[array.length - 1];\n}\n\nfunction lastNInArray(n, array){\n  return array.slice(Math.max(array.length - n, 0));\n}\n\nvar TRACKER_INVALID_STATE_MESSAGE = \"Tracker did not receive valid initial state\";\n\n/***\n  The tracker application has an internal state.\n  All observers know that the can watch a given projection of that state\n  project and present overloaded verbs.\n  options showcase or exhibit\n  function showcase(state){\n    // The tracker just cares that its state is shown somewhere\n    tracker.showcase.dispatch(state);\n***/\n\nfunction Tracker(state, world){\n  if ( !(this instanceof Tracker) ) { return new Tracker(state, world); }\n  try {\n    state = State(state || {});\n  } catch (e) {\n    throw new TypeError(TRACKER_INVALID_STATE_MESSAGE);\n  }\n  var tracker = this;\n  tracker.state = state;\n  // DEBT return to external assignment\n  world = world || {};\n  tracker.logger = world.logger // Or error causing of silent version;\n\n  tracker.audio = new Audio();\n\n  tracker.uplinkAvailable = function(channelName){\n    // Set state action can cause projection to exhibit new state\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"AVAILABLE\");\n    tracker.state = tracker.state.set(\"uplinkChannelName\", channelName);\n    // call log change. test listeners that the state has changed.\n    tracker.logger.info(\"Uplink available on channel:\", channelName);\n    showcase(tracker.state);\n  };\n\n  tracker.uplinkPresent = function(channelName, publishingMembers){\n    if (publishingMembers.length === 0) {\n      this.uplinkAvailable(channelName);\n    } else {\n\n      var deviceDescriptions = publishingMembers.filter(function(member) {\n        return member.data.device;\n      }).map(function(member) {\n        return member.data.device;\n      });\n\n      if (tracker.state.uplinkStatus !== 'STREAMING') {\n        tracker.state = tracker.state.set(\"uplinkStatus\", \"STREAMING\");\n        tracker.state = tracker.state.set(\"uplinkChannelName\", channelName);\n        tracker.state = tracker.state.set(\"uplinkDevice\", deviceDescriptions[0]);\n        tracker.logger.info(\"Uplink streaming\", channelName);\n        showcase(tracker.state);\n      }\n    }\n  };\n\n  tracker.uplinkFailed = function(err ){\n    console.error(err);\n    var state = tracker.state.set(\"uplinkStatus\", \"FAILED\");\n    tracker.state = state.set(\"alert\", \"Could not connect to Ably realtime service. Please try again later\");\n    tracker.logger.error(\"Uplink failed to connect\", err);\n    showcase(tracker.state);\n  };\n\n  tracker.uplinkDisconnected = function(err) {\n    if (tracker.state.uplinkStatus === 'DISCONNECTED') { return; }\n    tracker.state = tracker.state.set(\"uplinkStatus\", \"DISCONNECTED\");\n    tracker.logger.warn(\"Uplink has been disconnected\", err);\n    showcase(tracker.state);\n  };\n\n  tracker.newReading = function(newReading){\n    tracker.showcase.addReading(newReading);\n  };\n\n  tracker.newFlight = function(flightData, live) {\n    this.showcase.addFlight(flightData, live);\n    if (live) { this.audio.playDropSound(); };\n  }\n\n  tracker.newOrientation = function(position){\n    tracker.showcase.orientatePhones(position);\n  };\n\n  function showcase(state) {\n    tracker.showcase.update(state);\n  }\n}\n\nexport default Tracker;\n","/* jshint esnext: true */\n\n// Router makes use of current location\n// Router should always return some value of state it does not have the knowledge to regard it as invalid\n// Router is currently untested\n// Router does not follow modifications to the application location.\n// Router is generic for tracker and flyer at the moment\n// location is a size cause and might make sense to be lazily applied\nexport default function Router(location) {\n  if ( !(this instanceof Router) ) { return new Router(location); }\n  var router = this;\n  router.location = location;\n\n  function getState(){\n    return {\n      channelName: $(\"head\").data('channel-name')\n    };\n  }\n\n  Object.defineProperty(router, 'state', {\n    get: getState\n  });\n}\n","/* jshint esnext: true */\n\nfunction isRational() {\n  for (var i = 0; i < arguments.length; i++) {\n    var val = arguments[i];\n    if (typeof val !== \"number\"){\n      return false;\n    }\n    if (!isFinite(val)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction roundtoFour(number) {\n  return parseFloat(number.toFixed(4));\n}\n\nexport default function Reading(raw){\n  if ( !(this instanceof Reading) ) { return new Reading(raw); }\n\n  this.x = raw.x;\n  this.y = raw.y;\n  this.z = raw.z;\n  this.timestamp = raw.timestamp;\n\n  if (!isRational(this.x, this.y, this.z, this.timestamp)) {\n    throw new TypeError(\"Reading should have numerical values for x, y, z & timestamp\");\n  }\n}\n\nObject.defineProperty(Reading.prototype, \"magnitude\", {\n  get: function(){\n    return roundtoFour(Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));\n  }\n});\n\nReading.prototype.asJson = function() {\n  return {\n    timestamp: this.timestamp,\n    magnitude: this.magnitude\n  }\n};\n","// RESPONSIBILITY - Drive the tracker application in response to messages from the Ably uplink\nimport Reading from \"../lib/reading\";\nimport { Config } from \"../Config\";\n\n/* jshint esnext: true */\nexport default function UplinkController(options, tracker){\n  var realtime = new Ably.Realtime({ authUrl: '/token', environment: 'eu-west-1-a' });\n  var channelName = options.channelName;\n  var channel = realtime.channels.get(channelName);\n\n  /* Flights namespace is configured to persist messages */\n  var flightRecorderChannelName = \"flights:\" + channelName;\n  var flightRecorderChannel = realtime.channels.get(flightRecorderChannelName);\n\n  function uplinkPublisherPresenceUpdate() {\n    channel.presence.get(function(err, members) {\n      if (err) {\n        tracker.uplinkFailed(err);\n      } else {\n        tracker.uplinkPresent(channelName, members);\n      }\n    });\n  }\n\n  function flightMetricsCsv() {\n    var outputs = [\"time,timeHuman,readingX,readingY,readingZ,orientationAlpha,orientationBeta,orientationGamma\"];\n\n    window.debugFlightMetrics.forEach(function(flightMetric) {\n      outputs.push([flightMetric.time, flightMetric.timeHuman,\n                   flightMetric.reading.x, flightMetric.reading.y, flightMetric.reading.z,\n                   flightMetric.orientation.alpha, flightMetric.orientation.beta, flightMetric.orientation.gamma].join(\",\"));\n    });\n\n    return outputs.join(\"\\n\");\n  }\n\n  function clearMetrics() {\n    window.debugFlightMetrics = [];\n    console.warn(\"Metrics truncated\");\n  }\n\n  realtime.connection.on(\"connected\", function(err) {\n    // If we keep explicitly passing channel data to the controller we should pass it to the main app here\n    tracker.uplinkAvailable(channelName);\n    uplinkPublisherPresenceUpdate();\n  });\n\n  realtime.connection.on(\"failed\", function(err) {\n    tracker.uplinkFailed(err);\n  });\n\n  realtime.connection.on(\"disconnected\", function(err) {\n    tracker.uplinkDisconnected(err);\n  });\n\n  channel.subscribe(\"reading\", function(event){\n    tracker.newReading(Reading(event.data.reading));\n    tracker.newOrientation(event.data.orientation);\n  });\n\n  channel.presence.subscribe(uplinkPublisherPresenceUpdate);\n\n  flightRecorderChannel.subscribe(function(flightMessage) {\n    tracker.newFlight(flightMessage.data, true);\n  }, function(err) {\n    if (err) {\n      console.error(\"Could not attach to flight recorder channel\", flightRecorderChannelName, err);\n    } else {\n      console.info(\"Attached to flight recorder channel\", flightRecorderChannelName);\n      flightRecorderChannel.history({ limit: 20 }, function(err, historicalFlightPage) {\n        if (err) {\n          console.error(\"Could not retrieve history for \", flightRecorderChannelName, err);\n        } else {\n          var historicalFlights = historicalFlightPage.items;\n          for (var i = historicalFlights.length - 1; i >= 0; i--) {\n            tracker.newFlight(historicalFlights[i].data, false);\n          }\n        }\n      });\n    }\n  });\n\n  if (Config.debug) {\n    /* Debug flight info channel when enabled in the publisher phone */\n    var debugChannel = realtime.channels.get(\"debug:\" + channelName);\n    console.warn(\"Running in debug mode - this mode may consume a lot of memory for flight data stored in window.debugFlightMetrics\");\n    console.warn(\"Calling dumpFlightMetrics(clear: bool) will export flightMetricsData as a CSV, or copyFlightMetrics(clear: bool) to copy to clipboard\");\n\n    debugChannel.subscribe(function(flightMetricsMsg) {\n      if (!window.debugFlightMetrics) { window.debugFlightMetrics = [] }\n      flightMetricsMsg.data.forEach(function(flightMetric) {\n        window.debugFlightMetrics.push(flightMetric);\n      });\n    });\n\n    window.dumpFlightMetrics = function(clear) {\n      console.log(flightMetricsCsv());\n      if (clear) { clearMetrics(); }\n    }\n\n    window.copyFlightMetrics = function(clear) {\n      copy(flightMetricsCsv());\n      console.log(\"Flight metrics copied to clipboard\");\n      if (clear) { clearMetrics(); }\n    }\n  }\n}\n","/* jshint esnext: true */\n\nexport default function ConsoleView(logger){\n  this.render = function(projection){\n    logger.info(projection);\n  };\n}\n","/* jshint esnext: true */\n\nfunction isLive(projection){\n  return !projection.flightSnapshot;\n}\n\nexport default function TrackerShowcase(window){\n  if ( !(this instanceof TrackerShowcase) ) { return new TrackerShowcase(window); }\n  var showcase = this;\n  var views = [];\n  var phones = [];\n\n  this.update = function(projection){\n    // Values needed in display\n    // isLive\n    // readings\n    // isLockedToLiveReadings\n    // graph lines\n    // uplink statuses\n    // TODO should be projection not this\n    showcase.projection = this;\n    views.forEach(function(view){\n      view.render(projection);\n    });\n  };\n\n  this.addView = function(view){\n    if (showcase.projection) {\n      view.render(showcase.projection);\n    }\n    views.push(view);\n  };\n\n  this.addPhone = function(phone) {\n    phones.push(phone);\n  }\n\n  this.addReading = function(newReading){\n    views.forEach(function(view){\n      view.addReading(newReading);\n    });\n  }\n\n  this.addFlight = function(newFlightData, live) {\n    views.forEach(function(view){\n      view.addFlight(newFlightData, live);\n    });\n  }\n\n  this.orientatePhones = function(position) {\n    phones.forEach(function(phone){\n      if (phone.setOrientation) {\n        phone.setOrientation(position);\n      }\n    });\n  }\n}\n","export default function Phone() {\n  if ( !(this instanceof Phone) ) { return new Phone(); }\n  var $phone = document.documentElement.querySelector('#tridiv .scene');\n  var prefixes = [\"-webkit-\", \"-moz-\", \"-ms-\", \"\"];\n\n  this.setOrientation = function(position) {\n    var landscape = false;\n\n    if ((position.orientation == 90) || (position.orientation == -90)) {\n      landscape = true;\n    }\n\n    /* Don't rotate on Y axis so that phone rotates on X & Y axis in front of user */\n    var xRotation = (90 - position.beta) + 270,\n        yRotation = landscape ? 90 : 0,\n        zRotation = position.gamma;\n\n    var cssText = '';\n\n    for (var prefixIndex = 0; prefixIndex < prefixes.length; prefixIndex++) {\n      var prefix = prefixes[prefixIndex];\n      cssText += prefix + 'transform: rotateX(' + xRotation + 'deg) rotateY(' + yRotation + 'deg) rotateZ(' + zRotation + 'deg);';\n    }\n\n    $phone.style.cssText = cssText;\n  }\n}\n","import { Config } from '../config';\n\nexport default function GraphDisplay(trackDivId) {\n  if ( !(this instanceof GraphDisplay) ) { return new GraphDisplay(trackDivId); }\n\n  var chart,\n      context,\n      data = [],\n      lineDataTemplate = function() { return {\n        labels: [],\n        datasets: [\n          {\n            title: \"Magnitude\",\n            strokeColor: \"rgba(151,187,205,1)\",\n            fillColor: \"rgba(255,255,255,0)\",\n            data: [],\n            xPos: [],\n            axis: 1\n          },\n          {\n            title: \"Throw\",\n            fillColor: \"rgba(220,0,0,0.4)\",\n            strokeColor: \"rgba(220,0,0,1)\",\n            data: [],\n            xPos: [],\n            axis: 2\n          }\n        ]\n      }; },\n      chartOptions = {\n        datasetFill: true,\n        animation: false,\n        pointDot : false,\n        showToolTips: false,\n        scaleOverride: true,\n        scaleStartValue: -10,\n        scaleSteps: 8,\n        scaleStepWidth: 10,\n        scaleLabel: \"<%=value%>\",\n        responsive: false,\n        yAxisLabel: \"LobForceâ„¢\",\n        showXLabels: 5,\n        scaleXGridLinesStep: 5,\n        fmtXLabel : \"fmttime ss\",\n        extrapolateMissingData: false,\n        inGraphDataShow: true,\n        inGraphDataTmpl: \"<%=((v1 == 'Throw') && (v3 > 0) ? 'Lob ' + Math.round(v3*100)/100 + 'm' : '')%>\",\n        inGraphDataAlign: \"left\",\n        inGraphDataVAlign: \"bottom\",\n        inGraphDataPaddingX: 20,\n        inGraphDataPaddingY: -15,\n        inGraphDataFontColor: \"rgba(220,0,0,1)\",\n        graphSpaceAfter: 0,\n        spaceBottom: 0\n      };\n\n  var $trackerGraph = $('#tracker-graph'),\n      $canvas = $trackerGraph.find('canvas'),\n      listenerAdded = false;\n\n  var lineData;\n\n  function initialize(lineData) {\n    setDimensions();\n    context = $canvas[0].getContext(\"2d\");\n    chart = new Chart(context).Line(lineData, chartOptions);\n\n    if (!listenerAdded) {\n      listenerAdded = true;\n      $(window).on('resize', function() { /* catches orientation changes and window resizing */\n        var oldCanvas = $trackerGraph.find('canvas');\n        oldCanvas.after('<canvas>');\n        oldCanvas.remove();\n        $canvas = $trackerGraph.find('canvas');\n        chart = undefined;\n        prepareAndTruncateData(); /* this will create a new graph */\n      });\n    }\n  }\n\n  function setDimensions() {\n    $canvas.attr('width', $trackerGraph.width());\n    $canvas.attr('height', $trackerGraph.height());\n  }\n\n  function maxTimestampFromData() {\n    return Math.max.apply(null, data.map(function(elem) { return elem.date; }));\n  }\n\n  /* Ensuring that each data point falls cleanly on a label entry the charts\n     no longer present weird curves that match the data entry points.  This is a ChartNew.js\n     bug, but this works around that problem */\n  function clipToDateLabel(date, labels) {\n    var closestTime,\n        dateTime = date.getTime();\n\n    labels.forEach(function(label) {\n      var labelTime = label.getTime();\n      if ((!closestTime) || (Math.abs(dateTime - labelTime) < Math.abs(dateTime - closestTime))) {\n        closestTime = labelTime;\n      }\n    });\n\n    return closestTime;\n  }\n\n  /*\n    Sort data, then delete old data, cut off point of Config.trackingGraphTimePeriod\n  */\n  function prepareAndTruncateData() {\n    var minDateOnGraph = maxTimestampFromData() - Config.trackingGraphTimePeriod,\n        minDate, maxDate, labels = [];\n\n    lineData = lineDataTemplate(),\n\n    data = data.filter(function(point) {\n      return point.date > minDateOnGraph;\n    }).sort(function(a,b) {\n      return a.date - b.date;\n    });\n\n    minDate = data[0].date.getTime();\n    maxDate = data[data.length - 1].date.getTime();\n    for (var dtLabel = minDate; dtLabel <= maxDate; dtLabel += Config.readingPublishLimit) {\n      labels.push(new Date(dtLabel));\n    }\n    lineData.labels = labels;\n\n    var magnitudeData = data.filter(function(point) { return !isNaN(parseInt(point.value)) });\n    lineData.datasets[0].data = magnitudeData.map(function(point) {\n      return point.value;\n    });\n    lineData.datasets[0].xPos = magnitudeData.map(function(point) {\n      return clipToDateLabel(point.date, labels);\n    });\n\n    var flightData = data.filter(function(point) { return isNaN(parseInt(point.value)) });\n    lineData.datasets[1].data = flightData.map(function(point) {\n      return point.altitude;\n    });\n    lineData.datasets[1].xPos = flightData.map(function(point) {\n      return clipToDateLabel(point.date, labels);\n    });\n    if (!lineData.datasets[1].xPos.length) {\n      delete lineData.datasets[1].xPos;\n    }\n\n    if (!chart) {\n      initialize(lineData);\n    } else {\n      updateChart(context, lineData, chartOptions);\n    }\n  }\n\n  this.addPoint = function(point) {\n    var lobForce = Math.round((point.magnitude - Config.gravityMagnitudeConstant) * 100) / 100; /* LobForce is stationery at 0 */\n    data.push({\n      date: new Date(point.timestamp),\n      value: lobForce\n    });\n    prepareAndTruncateData();\n  }\n\n  this.addFlight = function(flightData) {\n    var start = flightData.peakInfo[0].timestampStart;\n    var end = flightData.peakInfo[flightData.peakInfo.length-1].timestampEnd;\n    var altitude = flightData.altitude;\n    var midpointDate = (start + end) / 2;\n\n    data.push({\n      date: new Date(start),\n      altitude: undefined\n    });\n    data.push({\n      date: new Date(start+1),\n      altitude: 0\n    });\n    data.push({\n      date: new Date(midpointDate),\n      altitude: altitude\n    });\n    data.push({\n      date: new Date(end-1),\n      altitude: 0\n    });\n    data.push({\n      date: new Date(end),\n      altitude: undefined\n    });\n\n    prepareAndTruncateData();\n  }\n}\n","/* jshint esnext: true */\n\nexport function ready(fn) {\n  if (document.readyState !== \"loading\"){\n    fn();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n","/* jshint esnext: true */\n\n// IMPORTS\nimport \"./utils/polyfill\";\nimport Tracker from \"./tracker/tracker\";\nimport Router from \"./router\";\nimport UplinkController from \"./tracker/uplink-controller\";\nimport ConsoleView from \"./tracker/console-view\";\nimport Showcase from \"./tracker/showcase\";\nimport Reading from \"./lib/reading\";\nimport Phone from \"./lib/phone\";\nimport GraphDisplay from \"./tracker/graph-display\";\nimport { ready } from \"./utils/dom\";\n\n// GENERAL CONFIGURATION\nwindow.Tracker = Tracker;\nwindow.Tracker.Reading = Reading;\n\nvar router = Router(window.location);\n\nvar tracker = new Tracker();\ntracker.logger = window.console;\ntracker.showcase = Showcase(window);\n\nvar uplinkController = new UplinkController(router.state, tracker);\n\nfunction uplinkStatusMessageFromProjection(projection) {\n  var message = projection.uplinkStatus;\n  if (message === 'AVAILABLE') {\n    return \"<p>We're connected, but waiting for data from phone <strong>\" + projection.uplinkChannelName + '</strong>.</p>' +\n      \"<p>As soon as the phone sends its stats, we'll show you the live lob dashboard.</p>\";\n  } else if (message === 'STREAMING') {\n    return 'Live lob dashboard for ' + (projection.uplinkDevice ? projection.uplinkDevice : \"mobile\") + \" phone:\" +\n      '<span class=\"code\">' + projection.uplinkChannelName + \"</span>\";\n  } else if (message === 'FAILED') {\n    return 'Oops, it looks like we cannot connect to the phone. Are you sure you have an Internet connection available?';\n  } else if (message === 'DISCONNECTED') {\n    return \"Hold on, we've just been disconnected. We'll try and reconnect now...\";\n  } else {\n    return \"Oops, something bad has happened, and it's our fault. Please try and reload the page.\";\n  }\n}\n\nready(function(){\n  var $uplinkStatusMessage = $('.uplink-status-message'),\n      $uplinkUpIcon = $('.uplink-up'),\n      $graphAndPhone = $('.graph-and-phone'),\n      $preloader = $('.connecting-loader'),\n      $flightHistory = $('.flight-history'),\n      $flightHistoryTable = $flightHistory.find('table');\n\n  var phone = new Phone(),\n      graphDisplay;\n\n  var paused = false;\n\n  var mainView = {\n    render: function(projection) {\n      $uplinkStatusMessage.html(uplinkStatusMessageFromProjection(projection));\n      if ((projection.uplinkStatus === 'AVAILABLE') || (projection.uplinkStatus === 'STREAMING')) {\n        $uplinkUpIcon.show();\n      } else {\n        $uplinkUpIcon.hide();\n      }\n\n      if (projection.uplinkStatus === 'STREAMING') {\n        $graphAndPhone.show();\n        $preloader.hide();\n        if (!graphDisplay) {\n          graphDisplay = new GraphDisplay('tracker-graph');\n        }\n      } else {\n        $graphAndPhone.hide();\n        $preloader.show();\n      }\n\n      $('.pause-button').on('click', function() {\n        paused = true;\n        $('.pause-button').hide();\n        $('.play-button').show();\n      });\n\n      $('.play-button').on('click', function() {\n        paused = false;\n        $('.play-button').hide();\n        $('.pause-button').show();\n      });\n    },\n\n    addReading: function(newReading) {\n      if (paused) { return; }\n\n      if (graphDisplay) {\n        graphDisplay.addPoint(newReading);\n      }\n    },\n\n    addFlight: function(newFlightData, live) {\n      if (paused) { return; }\n\n      if (graphDisplay) {\n        graphDisplay.addFlight(newFlightData);\n      }\n\n      var altitude = Math.round(newFlightData.altitude * 100)/100 + \"m\",\n          flightTime = Math.round(newFlightData.flightTime * 100)/100 + \"s\",\n          flightDate = new Date(newFlightData.timestamp),\n          flewAt = flightDate.toLocaleTimeString() + \" on \" + flightDate.toLocaleDateString();\n\n      var row = $(\"<tr><td>\" + altitude + \"</td><td>\" + flightTime + \"</td><td>\" + flewAt + \"</td></tr>\");\n      $flightHistoryTable.find('tr:first').after(row);\n      $flightHistory.show();\n    }\n  };\n\n  tracker.showcase.addView(mainView);\n  tracker.showcase.addPhone(phone);\n});\n\nexport default tracker;\n\n"],"names":["Showcase"],"mappings":";;;EAAA,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;EACpB,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE;EAC1C,IAAI,UAAU,EAAE,KAAK;EACrB,IAAI,YAAY,EAAE,IAAI;EACtB,IAAI,QAAQ,EAAE,IAAI;EAClB,IAAI,KAAK,EAAE,SAAS,MAAM,EAAE;AAC5B,EACA,MAAM,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,EAAE;EACnD,QAAQ,MAAM,IAAI,SAAS,CAAC,yCAAyC,CAAC,CAAC;EACvE,OAAO;;EAEP,MAAM,IAAI,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;EAC9B,MAAM,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACjD,QAAQ,IAAI,UAAU,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;EACtC,QAAQ,IAAI,UAAU,KAAK,SAAS,IAAI,UAAU,KAAK,IAAI,EAAE;EAC7D,UAAU,SAAS;EACnB,SAAS;EACT,QAAQ,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;;EAExC,QAAQ,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EAChD,QAAQ,KAAK,IAAI,SAAS,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,SAAS,GAAG,GAAG,EAAE,SAAS,EAAE,EAAE;EACtF,UAAU,IAAI,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;EAC7C,UAAU,IAAI,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;EAC1E,UAAU,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;EACrD,YAAY,EAAE,CAAC,OAAO,CAAC,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;EAC9C,WAAW;EACX,SAAS;EACT,OAAO;EACP,MAAM,OAAO,EAAE,CAAC;EAChB,KAAK;EACL,GAAG,CAAC,CAAC;EACL,CAAC;;EC/BM,IAAI,MAAM,GAAG;EACpB,EAAE,mBAAmB,EAAE,GAAG;EAC1B,EAAE,kBAAkB,EAAE,IAAI;EAC1B,EAAE,uBAAuB,EAAE,IAAI;EAC/B,EAAE,wBAAwB,EAAE,EAAE;EAC9B,EAAE,uBAAuB,EAAE,mBAAmB;EAC9C,EAAE,KAAK,EAAE,KAAK;EACd,CAAC,CAAC;;ECPF;;AAEA,EAAO,SAAS,QAAQ,CAAC,GAAG,EAAE;EAC9B,EAAE,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC;EACzB,EAAE,IAAI,CAAC,OAAO,GAAG,QAAQ,GAAG,GAAG,GAAG,cAAc,CAAC;EACjD,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,EAAE,EAAE,KAAK,CAAC;EACnC,CAAC;EACD,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;EACpD,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;;ECR1C;AACA,AAEA;AACA,EAAO,SAAS,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC;AACxC,EACA,EAAE,KAAK,EAAE,IAAI,YAAY,MAAM,CAAC,GAAG,EAAE,OAAO,IAAI,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,EAAE;;EAE3E,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;EAChC,EAAE,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;EAC1B,IAAI,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;EACpC,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;EACrC,QAAQ,MAAM,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC;EAChC,OAAO;EACP,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;EAC9B,KAAK;EACL,GAAG;EACH,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;EACtB,CAAC;;EAED,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE;EACzC,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;EAC/C,CAAC,CAAC;;EAEF,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE;EACxC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;EACxB,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;EACrB,GAAG,MAAM;EACT,IAAI,MAAM,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC;EAC5B,GAAG;EACH,CAAC,CAAC;;EAEF,MAAM,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;EAC7C,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,KAAK,EAAE;EAC3B,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG;EACH,EAAE,IAAI,GAAG,GAAG,EAAE,CAAC;EACf,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;EACnB,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EACzB,CAAC,CAAC;;EAEF,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE,SAAS,EAAE;EACpD,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC7C,CAAC,CAAC;;EAEF,MAAM,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;EAC1C,EAAE,OAAO,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EAC7B,CAAC,CAAC;;EC/CF;AACA,AAEA;EACA,IAAI,cAAc,GAAG;EACrB,EAAE,YAAY,EAAE,SAAS;EACzB,EAAE,iBAAiB,EAAE,SAAS;EAC9B,EAAE,YAAY,EAAE,IAAI;EACpB,EAAE,cAAc,EAAE,IAAI;EACtB,EAAE,KAAK,EAAE,EAAE;EACX,CAAC,CAAC;;EAEF,SAAS,KAAK,CAAC,GAAG,CAAC;EACnB,EAAE,KAAK,EAAE,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,OAAO,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;;EAE5D,EAAE,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,GAAG,CAAC,CAAC;EAChD,CAAC;;EAED,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;EAClD,KAAK,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;;ECnBrB,SAAS,KAAK,GAAG;EAChC,EAAE,KAAK,EAAE,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,OAAO,IAAI,KAAK,EAAE,CAAC,EAAE;;EAEzD,EAAE,GAAG,CAAC,KAAK,CAAC;EACZ,IAAI,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;EAClC,IAAI,MAAM,EAAE,CAAC;EACb,IAAI,IAAI,EAAE,gBAAgB;EAC1B,IAAI,OAAO,EAAE,IAAI;EACjB,GAAG,CAAC,CAAC;;EAEL,EAAE,IAAI,CAAC,aAAa,GAAG,WAAW;EAClC,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;EAC/B,IAAG;EACH,CAAC;;ECbD;AACA,AAaA;EACA,IAAI,6BAA6B,GAAG,6CAA6C,CAAC;;EAElF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,SAAS,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;EAC9B,EAAE,KAAK,EAAE,IAAI,YAAY,OAAO,CAAC,GAAG,EAAE,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE;EACzE,EAAE,IAAI;EACN,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;EAC/B,GAAG,CAAC,OAAO,CAAC,EAAE;EACd,IAAI,MAAM,IAAI,SAAS,CAAC,6BAA6B,CAAC,CAAC;EACvD,GAAG;EACH,EAAE,IAAI,OAAO,GAAG,IAAI,CAAC;EACrB,EAAE,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;EACxB;EACA,EAAE,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;EACtB,EAAE,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,OAAM;;EAE/B,EAAE,OAAO,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;;EAE9B,EAAE,OAAO,CAAC,eAAe,GAAG,SAAS,WAAW,CAAC;EACjD;EACA,IAAI,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;EACnE,IAAI,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,mBAAmB,EAAE,WAAW,CAAC,CAAC;EACxE;EACA,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,EAAE,WAAW,CAAC,CAAC;EACrE,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EAC5B,GAAG,CAAC;;EAEJ,EAAE,OAAO,CAAC,aAAa,GAAG,SAAS,WAAW,EAAE,iBAAiB,CAAC;EAClE,IAAI,IAAI,iBAAiB,CAAC,MAAM,KAAK,CAAC,EAAE;EACxC,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;EACxC,KAAK,MAAM;;EAEX,MAAM,IAAI,kBAAkB,GAAG,iBAAiB,CAAC,MAAM,CAAC,SAAS,MAAM,EAAE;EACzE,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;EAClC,OAAO,CAAC,CAAC,GAAG,CAAC,SAAS,MAAM,EAAE;EAC9B,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;EAClC,OAAO,CAAC,CAAC;;EAET,MAAM,IAAI,OAAO,CAAC,KAAK,CAAC,YAAY,KAAK,WAAW,EAAE;EACtD,QAAQ,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;EACvE,QAAQ,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,mBAAmB,EAAE,WAAW,CAAC,CAAC;EAC5E,QAAQ,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;EACjF,QAAQ,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC;EAC7D,QAAQ,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EAChC,OAAO;EACP,KAAK;EACL,GAAG,CAAC;;EAEJ,EAAE,OAAO,CAAC,YAAY,GAAG,SAAS,GAAG,EAAE;EACvC,IAAI,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EACvB,IAAI,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;EAC5D,IAAI,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,oEAAoE,CAAC,CAAC;EAC7G,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;EAC1D,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EAC5B,GAAG,CAAC;;EAEJ,EAAE,OAAO,CAAC,kBAAkB,GAAG,SAAS,GAAG,EAAE;EAC7C,IAAI,IAAI,OAAO,CAAC,KAAK,CAAC,YAAY,KAAK,cAAc,EAAE,EAAE,OAAO,EAAE;EAClE,IAAI,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;EACtE,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;EAC7D,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EAC5B,GAAG,CAAC;;EAEJ,EAAE,OAAO,CAAC,UAAU,GAAG,SAAS,UAAU,CAAC;EAC3C,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;EAC5C,GAAG,CAAC;;EAEJ,EAAE,OAAO,CAAC,SAAS,GAAG,SAAS,UAAU,EAAE,IAAI,EAAE;EACjD,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;EAC9C,IAAI,IAAI,IAAI,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,EAAE,AAC7C,IAAG;;EAEH,EAAE,OAAO,CAAC,cAAc,GAAG,SAAS,QAAQ,CAAC;EAC7C,IAAI,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;EAC/C,GAAG,CAAC;;EAEJ,EAAE,SAAS,QAAQ,CAAC,KAAK,EAAE;EAC3B,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;EACnC,GAAG;EACH,CAAC;;ECvGD;;EAEA;EACA;EACA;EACA;EACA;EACA;AACA,EAAe,SAAS,MAAM,CAAC,QAAQ,EAAE;EACzC,EAAE,KAAK,EAAE,IAAI,YAAY,MAAM,CAAC,GAAG,EAAE,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE;EACnE,EAAE,IAAI,MAAM,GAAG,IAAI,CAAC;EACpB,EAAE,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;;EAE7B,EAAE,SAAS,QAAQ,EAAE;EACrB,IAAI,OAAO;EACX,MAAM,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC;EACjD,KAAK,CAAC;EACN,GAAG;;EAEH,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,OAAO,EAAE;EACzC,IAAI,GAAG,EAAE,QAAQ;EACjB,GAAG,CAAC,CAAC;EACL,CAAC;;ECtBD;;EAEA,SAAS,UAAU,GAAG;EACtB,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAC7C,IAAI,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;EAC3B,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,CAAC;EAChC,MAAM,OAAO,KAAK,CAAC;EACnB,KAAK;EACL,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;EACxB,MAAM,OAAO,KAAK,CAAC;EACnB,KAAK;EACL,GAAG;EACH,EAAE,OAAO,IAAI,CAAC;EACd,CAAC;;EAED,SAAS,WAAW,CAAC,MAAM,EAAE;EAC7B,EAAE,OAAO,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EACvC,CAAC;;AAED,EAAe,SAAS,OAAO,CAAC,GAAG,CAAC;EACpC,EAAE,KAAK,EAAE,IAAI,YAAY,OAAO,CAAC,GAAG,EAAE,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE;;EAEhE,EAAE,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;EACjB,EAAE,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;EACjB,EAAE,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;EACjB,EAAE,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC;;EAEjC,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE;EAC3D,IAAI,MAAM,IAAI,SAAS,CAAC,8DAA8D,CAAC,CAAC;EACxF,GAAG;EACH,CAAC;;EAED,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE;EACtD,EAAE,GAAG,EAAE,UAAU;EACjB,IAAI,OAAO,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EACvF,GAAG;EACH,CAAC,CAAC,CAAC;;EAEH,OAAO,CAAC,SAAS,CAAC,MAAM,GAAG,WAAW;EACtC,EAAE,OAAO;EACT,IAAI,SAAS,EAAE,IAAI,CAAC,SAAS;EAC7B,IAAI,SAAS,EAAE,IAAI,CAAC,SAAS;EAC7B,GAAG;EACH,CAAC,CAAC;;EC3CF;AACA,AAEA;EACA;AACA,EAAe,SAAS,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC;EAC1D,EAAE,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,aAAa,EAAE,CAAC,CAAC;EACtF,EAAE,IAAI,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;EACxC,EAAE,IAAI,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;EAEnD;EACA,EAAE,IAAI,yBAAyB,GAAG,UAAU,GAAG,WAAW,CAAC;EAC3D,EAAE,IAAI,qBAAqB,GAAG,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;;EAE/E,EAAE,SAAS,6BAA6B,GAAG;EAC3C,IAAI,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,GAAG,EAAE,OAAO,EAAE;EAChD,MAAM,IAAI,GAAG,EAAE;EACf,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;EAClC,OAAO,MAAM;EACb,QAAQ,OAAO,CAAC,aAAa,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;EACpD,OAAO;EACP,KAAK,CAAC,CAAC;EACP,GAAG;AACH,AAiBA;EACA,EAAE,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,SAAS,GAAG,EAAE;EACpD;EACA,IAAI,OAAO,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;EACzC,IAAI,6BAA6B,EAAE,CAAC;EACpC,GAAG,CAAC,CAAC;;EAEL,EAAE,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,QAAQ,EAAE,SAAS,GAAG,EAAE;EACjD,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;EAC9B,GAAG,CAAC,CAAC;;EAEL,EAAE,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc,EAAE,SAAS,GAAG,EAAE;EACvD,IAAI,OAAO,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;EACpC,GAAG,CAAC,CAAC;;EAEL,EAAE,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,KAAK,CAAC;EAC9C,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;EACpD,IAAI,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACnD,GAAG,CAAC,CAAC;;EAEL,EAAE,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,6BAA6B,CAAC,CAAC;;EAE5D,EAAE,qBAAqB,CAAC,SAAS,CAAC,SAAS,aAAa,EAAE;EAC1D,IAAI,OAAO,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAChD,GAAG,EAAE,SAAS,GAAG,EAAE;EACnB,IAAI,IAAI,GAAG,EAAE;EACb,MAAM,OAAO,CAAC,KAAK,CAAC,6CAA6C,EAAE,yBAAyB,EAAE,GAAG,CAAC,CAAC;EACnG,KAAK,MAAM;EACX,MAAM,OAAO,CAAC,IAAI,CAAC,qCAAqC,EAAE,yBAAyB,CAAC,CAAC;EACrF,MAAM,qBAAqB,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,SAAS,GAAG,EAAE,oBAAoB,EAAE;EACvF,QAAQ,IAAI,GAAG,EAAE;EACjB,UAAU,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,yBAAyB,EAAE,GAAG,CAAC,CAAC;EAC3F,SAAS,MAAM;EACf,UAAU,IAAI,iBAAiB,GAAG,oBAAoB,CAAC,KAAK,CAAC;EAC7D,UAAU,KAAK,IAAI,CAAC,GAAG,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;EAClE,YAAY,OAAO,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EAChE,WAAW;EACX,SAAS;EACT,OAAO,CAAC,CAAC;EACT,KAAK;EACL,GAAG,CAAC,CAAC;AACL,EAyBA,CAAC;;EC1GD,yBAAyB;;ECAzB;AACA,AAIA;AACA,EAAe,SAAS,eAAe,CAAC,MAAM,CAAC;EAC/C,EAAE,KAAK,EAAE,IAAI,YAAY,eAAe,CAAC,GAAG,EAAE,OAAO,IAAI,eAAe,CAAC,MAAM,CAAC,CAAC,EAAE;EACnF,EAAE,IAAI,QAAQ,GAAG,IAAI,CAAC;EACtB,EAAE,IAAI,KAAK,GAAG,EAAE,CAAC;EACjB,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;;EAElB,EAAE,IAAI,CAAC,MAAM,GAAG,SAAS,UAAU,CAAC;EACpC;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;EAC/B,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC;EAChC,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;EAC9B,KAAK,CAAC,CAAC;EACP,GAAG,CAAC;;EAEJ,EAAE,IAAI,CAAC,OAAO,GAAG,SAAS,IAAI,CAAC;EAC/B,IAAI,IAAI,QAAQ,CAAC,UAAU,EAAE;EAC7B,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;EACvC,KAAK;EACL,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EACrB,GAAG,CAAC;;EAEJ,EAAE,IAAI,CAAC,QAAQ,GAAG,SAAS,KAAK,EAAE;EAClC,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;EACvB,IAAG;;EAEH,EAAE,IAAI,CAAC,UAAU,GAAG,SAAS,UAAU,CAAC;EACxC,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC;EAChC,MAAM,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;EAClC,KAAK,CAAC,CAAC;EACP,IAAG;;EAEH,EAAE,IAAI,CAAC,SAAS,GAAG,SAAS,aAAa,EAAE,IAAI,EAAE;EACjD,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC;EAChC,MAAM,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;EAC1C,KAAK,CAAC,CAAC;EACP,IAAG;;EAEH,EAAE,IAAI,CAAC,eAAe,GAAG,SAAS,QAAQ,EAAE;EAC5C,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,KAAK,CAAC;EAClC,MAAM,IAAI,KAAK,CAAC,cAAc,EAAE;EAChC,QAAQ,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;EACvC,OAAO;EACP,KAAK,CAAC,CAAC;EACP,IAAG;EACH,CAAC;;ECxDc,SAAS,KAAK,GAAG;EAChC,EAAE,KAAK,EAAE,IAAI,YAAY,KAAK,CAAC,GAAG,EAAE,OAAO,IAAI,KAAK,EAAE,CAAC,EAAE;EACzD,EAAE,IAAI,MAAM,GAAG,QAAQ,CAAC,eAAe,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;EACxE,EAAE,IAAI,QAAQ,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;;EAEnD,EAAE,IAAI,CAAC,cAAc,GAAG,SAAS,QAAQ,EAAE;EAC3C,IAAI,IAAI,SAAS,GAAG,KAAK,CAAC;;EAE1B,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,EAAE,MAAM,QAAQ,CAAC,WAAW,IAAI,CAAC,EAAE,CAAC,EAAE;EACvE,MAAM,SAAS,GAAG,IAAI,CAAC;EACvB,KAAK;;EAEL;EACA,IAAI,IAAI,SAAS,GAAG,CAAC,EAAE,GAAG,QAAQ,CAAC,IAAI,IAAI,GAAG;EAC9C,QAAQ,SAAS,GAAG,SAAS,GAAG,EAAE,GAAG,CAAC;EACtC,QAAQ,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC;;EAEnC,IAAI,IAAI,OAAO,GAAG,EAAE,CAAC;;EAErB,IAAI,KAAK,IAAI,WAAW,GAAG,CAAC,EAAE,WAAW,GAAG,QAAQ,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;EAC5E,MAAM,IAAI,MAAM,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;EACzC,MAAM,OAAO,IAAI,MAAM,GAAG,qBAAqB,GAAG,SAAS,GAAG,eAAe,GAAG,SAAS,GAAG,eAAe,GAAG,SAAS,GAAG,OAAO,CAAC;EAClI,KAAK;;EAEL,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;EACnC,IAAG;EACH,CAAC;;ECxBc,SAAS,YAAY,CAAC,UAAU,EAAE;EACjD,EAAE,KAAK,EAAE,IAAI,YAAY,YAAY,CAAC,GAAG,EAAE,OAAO,IAAI,YAAY,CAAC,UAAU,CAAC,CAAC,EAAE;;EAEjF,EAAE,IAAI,KAAK;EACX,MAAM,OAAO;EACb,MAAM,IAAI,GAAG,EAAE;EACf,MAAM,gBAAgB,GAAG,WAAW,EAAE,OAAO;EAC7C,QAAQ,MAAM,EAAE,EAAE;EAClB,QAAQ,QAAQ,EAAE;EAClB,UAAU;EACV,YAAY,KAAK,EAAE,WAAW;EAC9B,YAAY,WAAW,EAAE,qBAAqB;EAC9C,YAAY,SAAS,EAAE,qBAAqB;EAC5C,YAAY,IAAI,EAAE,EAAE;EACpB,YAAY,IAAI,EAAE,EAAE;EACpB,YAAY,IAAI,EAAE,CAAC;EACnB,WAAW;EACX,UAAU;EACV,YAAY,KAAK,EAAE,OAAO;EAC1B,YAAY,SAAS,EAAE,mBAAmB;EAC1C,YAAY,WAAW,EAAE,iBAAiB;EAC1C,YAAY,IAAI,EAAE,EAAE;EACpB,YAAY,IAAI,EAAE,EAAE;EACpB,YAAY,IAAI,EAAE,CAAC;EACnB,WAAW;EACX,SAAS;EACT,OAAO,CAAC,EAAE;EACV,MAAM,YAAY,GAAG;EACrB,QAAQ,WAAW,EAAE,IAAI;EACzB,QAAQ,SAAS,EAAE,KAAK;EACxB,QAAQ,QAAQ,GAAG,KAAK;EACxB,QAAQ,YAAY,EAAE,KAAK;EAC3B,QAAQ,aAAa,EAAE,IAAI;EAC3B,QAAQ,eAAe,EAAE,CAAC,EAAE;EAC5B,QAAQ,UAAU,EAAE,CAAC;EACrB,QAAQ,cAAc,EAAE,EAAE;EAC1B,QAAQ,UAAU,EAAE,YAAY;EAChC,QAAQ,UAAU,EAAE,KAAK;EACzB,QAAQ,UAAU,EAAE,WAAW;EAC/B,QAAQ,WAAW,EAAE,CAAC;EACtB,QAAQ,mBAAmB,EAAE,CAAC;EAC9B,QAAQ,SAAS,GAAG,YAAY;EAChC,QAAQ,sBAAsB,EAAE,KAAK;EACrC,QAAQ,eAAe,EAAE,IAAI;EAC7B,QAAQ,eAAe,EAAE,iFAAiF;EAC1G,QAAQ,gBAAgB,EAAE,MAAM;EAChC,QAAQ,iBAAiB,EAAE,QAAQ;EACnC,QAAQ,mBAAmB,EAAE,EAAE;EAC/B,QAAQ,mBAAmB,EAAE,CAAC,EAAE;EAChC,QAAQ,oBAAoB,EAAE,iBAAiB;EAC/C,QAAQ,eAAe,EAAE,CAAC;EAC1B,QAAQ,WAAW,EAAE,CAAC;EACtB,OAAO,CAAC;;EAER,EAAE,IAAI,aAAa,GAAG,CAAC,CAAC,gBAAgB,CAAC;EACzC,MAAM,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;EAC5C,MAAM,aAAa,GAAG,KAAK,CAAC;;EAE5B,EAAE,IAAI,QAAQ,CAAC;;EAEf,EAAE,SAAS,UAAU,CAAC,QAAQ,EAAE;EAChC,IAAI,aAAa,EAAE,CAAC;EACpB,IAAI,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;EAC1C,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;;EAE5D,IAAI,IAAI,CAAC,aAAa,EAAE;EACxB,MAAM,aAAa,GAAG,IAAI,CAAC;EAC3B,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,WAAW;EACxC,QAAQ,IAAI,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EACrD,QAAQ,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;EACpC,QAAQ,SAAS,CAAC,MAAM,EAAE,CAAC;EAC3B,QAAQ,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;EAC/C,QAAQ,KAAK,GAAG,SAAS,CAAC;EAC1B,QAAQ,sBAAsB,EAAE,CAAC;EACjC,OAAO,CAAC,CAAC;EACT,KAAK;EACL,GAAG;;EAEH,EAAE,SAAS,aAAa,GAAG;EAC3B,IAAI,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC;EACjD,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC;EACnD,GAAG;;EAEH,EAAE,SAAS,oBAAoB,GAAG;EAClC,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;EAChF,GAAG;;EAEH;EACA;EACA;EACA,EAAE,SAAS,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE;EACzC,IAAI,IAAI,WAAW;EACnB,QAAQ,QAAQ,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;;EAElC,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,KAAK,EAAE;EACnC,MAAM,IAAI,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;EACtC,MAAM,IAAI,CAAC,CAAC,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC,EAAE;EACjG,QAAQ,WAAW,GAAG,SAAS,CAAC;EAChC,OAAO;EACP,KAAK,CAAC,CAAC;;EAEP,IAAI,OAAO,WAAW,CAAC;EACvB,GAAG;;EAEH;EACA;EACA;EACA,EAAE,SAAS,sBAAsB,GAAG;EACpC,IAAI,IAAI,cAAc,GAAG,oBAAoB,EAAE,GAAG,MAAM,CAAC,uBAAuB;EAChF,QAAQ,OAAO,EAAE,OAAO,EAAE,MAAM,GAAG,EAAE,CAAC;;EAEtC,IAAI,QAAQ,GAAG,gBAAgB,EAAE;;EAEjC,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE;EACvC,MAAM,OAAO,KAAK,CAAC,IAAI,GAAG,cAAc,CAAC;EACzC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;EAC1B,MAAM,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;EAC7B,KAAK,CAAC,CAAC;;EAEP,IAAI,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;EACrC,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;EACnD,IAAI,KAAK,IAAI,OAAO,GAAG,OAAO,EAAE,OAAO,IAAI,OAAO,EAAE,OAAO,IAAI,MAAM,CAAC,mBAAmB,EAAE;EAC3F,MAAM,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;EACrC,KAAK;EACL,IAAI,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;;EAE7B,IAAI,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAC9F,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;EAClE,MAAM,OAAO,KAAK,CAAC,KAAK,CAAC;EACzB,KAAK,CAAC,CAAC;EACP,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;EAClE,MAAM,OAAO,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;EACjD,KAAK,CAAC,CAAC;;EAEP,IAAI,IAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EAC1F,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;EAC/D,MAAM,OAAO,KAAK,CAAC,QAAQ,CAAC;EAC5B,KAAK,CAAC,CAAC;EACP,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;EAC/D,MAAM,OAAO,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;EACjD,KAAK,CAAC,CAAC;EACP,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;EAC3C,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;EACvC,KAAK;;EAEL,IAAI,IAAI,CAAC,KAAK,EAAE;EAChB,MAAM,UAAU,CAAC,QAAQ,CAAC,CAAC;EAC3B,KAAK,MAAM;EACX,MAAM,WAAW,CAAC,OAAO,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;EACnD,KAAK;EACL,GAAG;;EAEH,EAAE,IAAI,CAAC,QAAQ,GAAG,SAAS,KAAK,EAAE;EAClC,IAAI,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,wBAAwB,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC;EAC/F,IAAI,IAAI,CAAC,IAAI,CAAC;EACd,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;EACrC,MAAM,KAAK,EAAE,QAAQ;EACrB,KAAK,CAAC,CAAC;EACP,IAAI,sBAAsB,EAAE,CAAC;EAC7B,IAAG;;EAEH,EAAE,IAAI,CAAC,SAAS,GAAG,SAAS,UAAU,EAAE;EACxC,IAAI,IAAI,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;EACtD,IAAI,IAAI,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;EAC7E,IAAI,IAAI,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC;EACvC,IAAI,IAAI,YAAY,GAAG,CAAC,KAAK,GAAG,GAAG,IAAI,CAAC,CAAC;;EAEzC,IAAI,IAAI,CAAC,IAAI,CAAC;EACd,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC;EAC3B,MAAM,QAAQ,EAAE,SAAS;EACzB,KAAK,CAAC,CAAC;EACP,IAAI,IAAI,CAAC,IAAI,CAAC;EACd,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;EAC7B,MAAM,QAAQ,EAAE,CAAC;EACjB,KAAK,CAAC,CAAC;EACP,IAAI,IAAI,CAAC,IAAI,CAAC;EACd,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC;EAClC,MAAM,QAAQ,EAAE,QAAQ;EACxB,KAAK,CAAC,CAAC;EACP,IAAI,IAAI,CAAC,IAAI,CAAC;EACd,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;EAC3B,MAAM,QAAQ,EAAE,CAAC;EACjB,KAAK,CAAC,CAAC;EACP,IAAI,IAAI,CAAC,IAAI,CAAC;EACd,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC;EACzB,MAAM,QAAQ,EAAE,SAAS;EACzB,KAAK,CAAC,CAAC;;EAEP,IAAI,sBAAsB,EAAE,CAAC;EAC7B,IAAG;EACH,CAAC;;EChMD;;AAEA,EAAO,SAAS,KAAK,CAAC,EAAE,EAAE;EAC1B,EAAE,IAAI,QAAQ,CAAC,UAAU,KAAK,SAAS,CAAC;EACxC,IAAI,EAAE,EAAE,CAAC;EACT,GAAG,MAAM;EACT,IAAI,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;EACtD,GAAG;EACH,CAAC;;ECRD;AACA,AAYA;EACA;EACA,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;EACzB,MAAM,CAAC,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;;EAEjC,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;;EAErC,IAAI,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;EAC5B,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC;EAChC,OAAO,CAAC,QAAQ,GAAGA,eAAQ,CAAC,MAAM,CAAC,CAAC;;EAEpC,IAAI,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;;EAEnE,SAAS,iCAAiC,CAAC,UAAU,EAAE;EACvD,EAAE,IAAI,OAAO,GAAG,UAAU,CAAC,YAAY,CAAC;EACxC,EAAE,IAAI,OAAO,KAAK,WAAW,EAAE;EAC/B,IAAI,OAAO,8DAA8D,GAAG,UAAU,CAAC,iBAAiB,GAAG,gBAAgB;EAC3H,MAAM,qFAAqF,CAAC;EAC5F,GAAG,MAAM,IAAI,OAAO,KAAK,WAAW,EAAE;EACtC,IAAI,OAAO,yBAAyB,IAAI,UAAU,CAAC,YAAY,GAAG,UAAU,CAAC,YAAY,GAAG,QAAQ,CAAC,GAAG,SAAS;EACjH,MAAM,qBAAqB,GAAG,UAAU,CAAC,iBAAiB,GAAG,SAAS,CAAC;EACvE,GAAG,MAAM,IAAI,OAAO,KAAK,QAAQ,EAAE;EACnC,IAAI,OAAO,6GAA6G,CAAC;EACzH,GAAG,MAAM,IAAI,OAAO,KAAK,cAAc,EAAE;EACzC,IAAI,OAAO,uEAAuE,CAAC;EACnF,GAAG,MAAM;EACT,IAAI,OAAO,uFAAuF,CAAC;EACnG,GAAG;EACH,CAAC;;EAED,KAAK,CAAC,UAAU;EAChB,EAAE,IAAI,oBAAoB,GAAG,CAAC,CAAC,wBAAwB,CAAC;EACxD,MAAM,aAAa,GAAG,CAAC,CAAC,YAAY,CAAC;EACrC,MAAM,cAAc,GAAG,CAAC,CAAC,kBAAkB,CAAC;EAC5C,MAAM,UAAU,GAAG,CAAC,CAAC,oBAAoB,CAAC;EAC1C,MAAM,cAAc,GAAG,CAAC,CAAC,iBAAiB,CAAC;EAC3C,MAAM,mBAAmB,GAAG,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;EAEzD,EAAE,IAAI,KAAK,GAAG,IAAI,KAAK,EAAE;EACzB,MAAM,YAAY,CAAC;;EAEnB,EAAE,IAAI,MAAM,GAAG,KAAK,CAAC;;EAErB,EAAE,IAAI,QAAQ,GAAG;EACjB,IAAI,MAAM,EAAE,SAAS,UAAU,EAAE;EACjC,MAAM,oBAAoB,CAAC,IAAI,CAAC,iCAAiC,CAAC,UAAU,CAAC,CAAC,CAAC;EAC/E,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,KAAK,WAAW,MAAM,UAAU,CAAC,YAAY,KAAK,WAAW,CAAC,EAAE;EAClG,QAAQ,aAAa,CAAC,IAAI,EAAE,CAAC;EAC7B,OAAO,MAAM;EACb,QAAQ,aAAa,CAAC,IAAI,EAAE,CAAC;EAC7B,OAAO;;EAEP,MAAM,IAAI,UAAU,CAAC,YAAY,KAAK,WAAW,EAAE;EACnD,QAAQ,cAAc,CAAC,IAAI,EAAE,CAAC;EAC9B,QAAQ,UAAU,CAAC,IAAI,EAAE,CAAC;EAC1B,QAAQ,IAAI,CAAC,YAAY,EAAE;EAC3B,UAAU,YAAY,GAAG,IAAI,YAAY,CAAC,eAAe,CAAC,CAAC;EAC3D,SAAS;EACT,OAAO,MAAM;EACb,QAAQ,cAAc,CAAC,IAAI,EAAE,CAAC;EAC9B,QAAQ,UAAU,CAAC,IAAI,EAAE,CAAC;EAC1B,OAAO;;EAEP,MAAM,CAAC,CAAC,eAAe,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW;EAChD,QAAQ,MAAM,GAAG,IAAI,CAAC;EACtB,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;EAClC,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;EACjC,OAAO,CAAC,CAAC;;EAET,MAAM,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,WAAW;EAC/C,QAAQ,MAAM,GAAG,KAAK,CAAC;EACvB,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,CAAC;EACjC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;EAClC,OAAO,CAAC,CAAC;EACT,KAAK;;EAEL,IAAI,UAAU,EAAE,SAAS,UAAU,EAAE;EACrC,MAAM,IAAI,MAAM,EAAE,EAAE,OAAO,EAAE;;EAE7B,MAAM,IAAI,YAAY,EAAE;EACxB,QAAQ,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;EAC1C,OAAO;EACP,KAAK;;EAEL,IAAI,SAAS,EAAE,SAAS,aAAa,EAAE,IAAI,EAAE;EAC7C,MAAM,IAAI,MAAM,EAAE,EAAE,OAAO,EAAE;;EAE7B,MAAM,IAAI,YAAY,EAAE;EACxB,QAAQ,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;EAC9C,OAAO;;EAEP,MAAM,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG;EACvE,UAAU,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG;EAC3E,UAAU,UAAU,GAAG,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;EACxD,UAAU,MAAM,GAAG,UAAU,CAAC,kBAAkB,EAAE,GAAG,MAAM,GAAG,UAAU,CAAC,kBAAkB,EAAE,CAAC;;EAE9F,MAAM,IAAI,GAAG,GAAG,CAAC,CAAC,UAAU,GAAG,QAAQ,GAAG,WAAW,GAAG,UAAU,GAAG,WAAW,GAAG,MAAM,GAAG,YAAY,CAAC,CAAC;EAC1G,MAAM,mBAAmB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EACtD,MAAM,cAAc,CAAC,IAAI,EAAE,CAAC;EAC5B,KAAK;EACL,GAAG,CAAC;;EAEJ,EAAE,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;EACrC,EAAE,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;EACnC,CAAC,CAAC,CAAC;;;;;;;;"}